<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Aide-mémoire Matplotlib, Seaborn & Plotly : workflows pratiques pour la visualisation de données en Python.">
    <title>Matplotlib & Seaborn - IT Cheatsheets</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body class="dark-theme text-slate-200">

    <header class="bg-slate-900/50 border-b border-white/5 py-8 px-4 relative overflow-hidden header-glow">
        <div class="max-w-4xl mx-auto relative z-10">
            <div class="flex items-center justify-between mb-4">
                <a href="../index.html" class="nav-back inline-flex items-center text-slate-400 hover:text-sky-400 transition">
                    <i class="fas fa-arrow-left mr-2"></i>Retour
                </a>
                <a href="../index.html" class="inline-flex items-center text-slate-400 hover:text-sky-400 transition">
                    <i class="fas fa-home mr-2"></i>Accueil
                </a>
            </div>
            <div class="text-center">
                <div class="inline-flex items-center justify-center w-16 h-16 rounded-xl bg-teal-500/20 mb-4 icon-glow">
                    <i class="fas fa-chart-line text-3xl text-teal-400"></i>
                </div>
                <h1 class="text-3xl font-bold mb-2 gradient-text">Matplotlib & Seaborn</h1>
                <p class="text-slate-400">Workflows pratiques pour la visualisation de données</p>
            </div>
        </div>
    </header>

    <main class="max-w-4xl mx-auto p-4 relative z-10">
        <div class="mb-8 relative">
            <input type="text" id="searchInput" placeholder="Rechercher un workflow..."
                   class="search-dark w-full p-4 pl-12 rounded-lg outline-none transition">
            <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-500"></i>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="categoriesGrid"></div>
    </main>

    <div id="detailModal" class="fixed inset-0 bg-black/70 hidden items-center justify-center z-50 p-4 modal-overlay" onclick="closeModal(event)">
        <div class="modal-content-dark rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl modal-content" onclick="event.stopPropagation()">
            <div id="modalContent"></div>
        </div>
    </div>

    <footer class="border-t border-white/5 text-center text-slate-500 py-8 text-sm relative z-10">
        <p>© 2026 - Dr FENOHASINA Toto Jean Felicien</p>
    </footer>

    <script>
        const cheatsheetData = [
            {
                id: 'quickstart',
                title: 'Créer un Graphique Rapidement',
                icon: 'fa-bolt',
                color: 'border-l-4 border-blue-500',
                commands: [
                    {
                        cmd: 'Tracer une courbe simple',
                        desc: 'plt.plot() pour lignes et séries temporelles',
                        details: {
                            explanation: 'Crée un graphique linéaire reliant les points. Parfait pour les séries temporelles et l\'évolution de données.',
                            syntax: 'plt.plot(x, y, format, **kwargs)\nplt.show()',
                            options: [
                                { flag: 'color / c', desc: 'Couleur: "red", "b", "#FF0000"' },
                                { flag: 'linestyle / ls', desc: '"-" (solide), "--" (tirets), ":" (pointillé)' },
                                { flag: 'linewidth / lw', desc: 'Épaisseur de la ligne' },
                                { flag: 'marker', desc: '"o" (cercle), "s" (carré), "^" (triangle)' },
                                { flag: 'label', desc: 'Texte pour la légende' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\nimport numpy as np\n\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\nplt.plot(x, y)\nplt.show()', desc: 'Courbe simple' },
                                { code: '# Plusieurs courbes\nplt.plot(x, np.sin(x), label="sin")\nplt.plot(x, np.cos(x), label="cos")\nplt.legend()\nplt.show()', desc: 'Plusieurs courbes' },
                                { code: '# Style personnalisé\nplt.plot(x, y, "r--o", lw=2, label="Données")\nplt.xlabel("X")\nplt.ylabel("Y")\nplt.title("Mon graphique")\nplt.legend()\nplt.show()', desc: 'Complet avec labels' }
                            ],
                            tips: ['Format raccourci: "couleur+marqueur+ligne" ex: "ro--"', 'plt.show() obligatoire hors Jupyter'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Créer un nuage de points',
                        desc: 'plt.scatter() / sns.scatterplot() pour corrélations',
                        details: {
                            explanation: 'Affiche des points individuels sans les relier. Idéal pour visualiser corrélations entre deux variables.',
                            syntax: 'plt.scatter(x, y, s=size, c=colors)\nsns.scatterplot(x, y, hue, size, data=df)',
                            options: [
                                { flag: 's', desc: 'Taille des points (scalaire ou array)' },
                                { flag: 'c', desc: 'Couleur(s) (peut être une variable)' },
                                { flag: 'alpha', desc: 'Transparence (0-1)' },
                                { flag: 'cmap', desc: 'Palette: "viridis", "coolwarm", etc.' },
                                { flag: 'hue', desc: 'Variable catégorielle pour couleurs (Seaborn)' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\n\nplt.scatter(x, y)\nplt.xlabel("X")\nplt.ylabel("Y")\nplt.show()', desc: 'Matplotlib basique' },
                                { code: '# Couleur selon une variable\nplt.scatter(x, y, c=z, cmap="viridis", alpha=0.7)\nplt.colorbar(label="Z")\nplt.show()', desc: 'Avec colormap' },
                                { code: 'import seaborn as sns\n\nsns.scatterplot(data=df, x="col1", y="col2", hue="categorie", size="valeur")\nplt.show()', desc: 'Seaborn avec hue' }
                            ],
                            tips: ['alpha < 1 quand les points se chevauchent', 'plt.colorbar() après scatter avec cmap'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Faire un histogramme',
                        desc: 'plt.hist() / sns.histplot() pour distributions',
                        details: {
                            explanation: 'Affiche la distribution d\'une variable continue. Montre la fréquence des valeurs par intervalles.',
                            syntax: 'plt.hist(x, bins=30)\nsns.histplot(data, x, kde=True)',
                            options: [
                                { flag: 'bins', desc: 'Nombre d\'intervalles ou liste de limites' },
                                { flag: 'density', desc: 'True pour normaliser (aire=1)' },
                                { flag: 'alpha', desc: 'Transparence' },
                                { flag: 'kde', desc: 'Ajouter courbe de densité (Seaborn)' },
                                { flag: 'hue', desc: 'Variable de groupement (Seaborn)' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\nimport numpy as np\n\ndata = np.random.randn(1000)\nplt.hist(data, bins=30)\nplt.xlabel("Valeur")\nplt.ylabel("Fréquence")\nplt.show()', desc: 'Matplotlib basique' },
                                { code: 'import seaborn as sns\n\nsns.histplot(data=df, x="age", bins=20, kde=True)\nplt.show()', desc: 'Seaborn avec KDE' },
                                { code: '# Comparer deux distributions\nsns.histplot(data=df, x="score", hue="groupe", element="step")\nplt.show()', desc: 'Par groupe' }
                            ],
                            tips: ['kde=True ajoute la courbe de densité', 'Ajustez bins pour trouver le bon niveau de détail'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Créer un diagramme en barres',
                        desc: 'plt.bar() / sns.barplot() pour catégories',
                        details: {
                            explanation: 'Compare des valeurs entre catégories. Barplot avec Seaborn calcule automatiquement la moyenne.',
                            syntax: 'plt.bar(x, height)\nsns.barplot(data=df, x, y)',
                            options: [
                                { flag: 'width', desc: 'Largeur des barres' },
                                { flag: 'color', desc: 'Couleur des barres' },
                                { flag: 'hue', desc: 'Variable de groupement (Seaborn)' },
                                { flag: 'ci', desc: 'Intervalle de confiance (Seaborn)' },
                                { flag: 'orient', desc: '"v" vertical ou "h" horizontal' }
                            ],
                            examples: [
                                { code: 'categories = ["A", "B", "C", "D"]\nvaleurs = [25, 40, 30, 55]\n\nplt.bar(categories, valeurs, color="steelblue")\nplt.ylabel("Valeur")\nplt.show()', desc: 'Matplotlib basique' },
                                { code: '# Barres horizontales\nplt.barh(categories, valeurs)\nplt.xlabel("Valeur")\nplt.show()', desc: 'Horizontal' },
                                { code: 'import seaborn as sns\n\nsns.barplot(data=df, x="categorie", y="ventes", hue="annee")\nplt.show()', desc: 'Seaborn groupé' }
                            ],
                            tips: ['plt.barh() pour barres horizontales', 'Seaborn affiche automatiquement l\'erreur standard'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Afficher un camembert',
                        desc: 'plt.pie() pour proportions simples',
                        details: {
                            explanation: 'Affiche les proportions d\'un ensemble sous forme de secteurs. À utiliser avec parcimonie.',
                            syntax: 'plt.pie(sizes, labels=names, autopct="%1.1f%%")',
                            options: [
                                { flag: 'labels', desc: 'Noms des secteurs' },
                                { flag: 'autopct', desc: 'Format pourcentages: "%1.1f%%"' },
                                { flag: 'explode', desc: 'Décaler des secteurs: [0, 0.1, 0]' },
                                { flag: 'colors', desc: 'Liste de couleurs' },
                                { flag: 'startangle', desc: 'Angle de départ (90 = haut)' }
                            ],
                            examples: [
                                { code: 'sizes = [35, 25, 20, 20]\nlabels = ["A", "B", "C", "D"]\n\nplt.pie(sizes, labels=labels, autopct="%1.1f%%")\nplt.title("Répartition")\nplt.show()', desc: 'Camembert simple' },
                                { code: '# Avec un secteur détaché\nexplode = [0.1, 0, 0, 0]  # Détacher le premier\nplt.pie(sizes, labels=labels, explode=explode, autopct="%1.1f%%", startangle=90)\nplt.axis("equal")  # Cercle parfait\nplt.show()', desc: 'Secteur détaché' }
                            ],
                            tips: ['plt.axis("equal") pour un cercle parfait', 'Limiter à 5-6 catégories maximum'],
                            warnings: ['Préférez un barplot pour plus de clarté']
                        }
                    }
                ]
            },
            {
                id: 'distributions',
                title: 'Visualiser des Distributions',
                icon: 'fa-chart-area',
                color: 'border-l-4 border-emerald-500',
                commands: [
                    {
                        cmd: 'Histogramme avec courbe de densité',
                        desc: 'sns.histplot(kde=True) distribution complète',
                        details: {
                            explanation: 'Combine histogramme et estimation de densité par noyau (KDE) pour voir la forme de la distribution.',
                            syntax: 'sns.histplot(data, x, kde=True, stat="density")',
                            options: [
                                { flag: 'kde', desc: 'Ajouter la courbe de densité' },
                                { flag: 'stat', desc: '"count", "density", "probability"' },
                                { flag: 'bins', desc: 'Nombre d\'intervalles' },
                                { flag: 'hue', desc: 'Grouper par catégorie' },
                                { flag: 'element', desc: '"bars", "step", "poly"' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\nimport matplotlib.pyplot as plt\n\nsns.histplot(data=df, x="age", kde=True)\nplt.show()', desc: 'Histogramme + KDE' },
                                { code: '# Comparer des groupes\nsns.histplot(data=df, x="score", hue="groupe", kde=True, element="step")\nplt.show()', desc: 'Par groupe' },
                                { code: '# Normalisé\nsns.histplot(data=df, x="valeur", stat="density", kde=True)\nplt.show()', desc: 'Densité normalisée' }
                            ],
                            tips: ['stat="density" normalise pour comparer des groupes de tailles différentes'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Courbe de densité (KDE)',
                        desc: 'sns.kdeplot() distribution lissée',
                        details: {
                            explanation: 'Estimation de densité par noyau. Montre la forme de la distribution sans les barres.',
                            syntax: 'sns.kdeplot(data, x, fill=True)',
                            options: [
                                { flag: 'fill', desc: 'Remplir sous la courbe' },
                                { flag: 'bw_adjust', desc: 'Lissage (>1 plus lisse)' },
                                { flag: 'hue', desc: 'Grouper par catégorie' },
                                { flag: 'multiple', desc: '"layer", "stack", "fill"' },
                                { flag: 'common_norm', desc: 'Normalisation commune' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\nsns.kdeplot(data=df, x="valeur", fill=True, alpha=0.5)\nplt.show()', desc: 'KDE simple' },
                                { code: '# Plusieurs groupes\nsns.kdeplot(data=df, x="score", hue="categorie", fill=True, alpha=0.3)\nplt.show()', desc: 'Par groupe' },
                                { code: '# KDE 2D\nsns.kdeplot(data=df, x="x", y="y", fill=True, cmap="viridis")\nplt.show()', desc: 'Densité 2D' }
                            ],
                            tips: ['fill=True rend plus lisible', 'bw_adjust contrôle le lissage'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Boxplot (boîte à moustaches)',
                        desc: 'sns.boxplot() quartiles et outliers',
                        details: {
                            explanation: 'Montre médiane, quartiles et valeurs aberrantes. Idéal pour comparer des distributions entre groupes.',
                            syntax: 'sns.boxplot(data=df, x, y)\nplt.boxplot(data)',
                            options: [
                                { flag: 'x, y', desc: 'Catégorie et valeur' },
                                { flag: 'hue', desc: 'Sous-groupes' },
                                { flag: 'orient', desc: '"v" ou "h"' },
                                { flag: 'whis', desc: 'Extension des moustaches (défaut: 1.5 IQR)' },
                                { flag: 'showfliers', desc: 'Afficher les outliers' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\nsns.boxplot(data=df, x="categorie", y="valeur")\nplt.show()', desc: 'Boxplot par catégorie' },
                                { code: '# Avec sous-groupes\nsns.boxplot(data=df, x="region", y="ventes", hue="annee")\nplt.legend(title="Année")\nplt.show()', desc: 'Avec hue' },
                                { code: '# Horizontal\nsns.boxplot(data=df, x="salaire", y="departement", orient="h")\nplt.show()', desc: 'Horizontal' }
                            ],
                            tips: ['La boîte = 50% central des données', 'Points au-delà des moustaches = outliers'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Violin plot',
                        desc: 'sns.violinplot() distribution + densité',
                        details: {
                            explanation: 'Combine boxplot et KDE. Montre la forme complète de la distribution par catégorie.',
                            syntax: 'sns.violinplot(data=df, x, y)',
                            options: [
                                { flag: 'split', desc: 'Diviser en deux pour comparaison (avec hue)' },
                                { flag: 'inner', desc: '"box", "quartile", "point", "stick"' },
                                { flag: 'scale', desc: '"area", "count", "width"' },
                                { flag: 'hue', desc: 'Sous-groupes' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\nsns.violinplot(data=df, x="categorie", y="valeur")\nplt.show()', desc: 'Violin basique' },
                                { code: '# Avec boxplot intégré\nsns.violinplot(data=df, x="groupe", y="score", inner="box")\nplt.show()', desc: 'Avec box interne' },
                                { code: '# Comparaison côte à côte\nsns.violinplot(data=df, x="region", y="ventes", hue="annee", split=True)\nplt.show()', desc: 'Split pour comparer' }
                            ],
                            tips: ['split=True avec hue pour comparaison directe', 'Plus informatif qu\'un boxplot'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Distribution cumulative',
                        desc: 'sns.ecdfplot() fonction de répartition',
                        details: {
                            explanation: 'Montre la fonction de répartition empirique (ECDF). Utile pour comparer des distributions.',
                            syntax: 'sns.ecdfplot(data, x)',
                            options: [
                                { flag: 'stat', desc: '"proportion" ou "count"' },
                                { flag: 'complementary', desc: 'True pour 1-ECDF' },
                                { flag: 'hue', desc: 'Grouper par catégorie' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\nsns.ecdfplot(data=df, x="score")\nplt.xlabel("Score")\nplt.ylabel("Proportion")\nplt.show()', desc: 'ECDF simple' },
                                { code: '# Comparer des groupes\nsns.ecdfplot(data=df, x="temps", hue="methode")\nplt.title("Distribution cumulative par méthode")\nplt.show()', desc: 'Par groupe' }
                            ],
                            tips: ['Parfait pour comparer des distributions', 'Pas d\'effet du nombre de bins'],
                            warnings: []
                        }
                    }
                ]
            },
            {
                id: 'relations',
                title: 'Visualiser des Relations',
                icon: 'fa-arrows-left-right',
                color: 'border-l-4 border-purple-500',
                commands: [
                    {
                        cmd: 'Nuage de points avec régression',
                        desc: 'sns.regplot() / sns.lmplot() tendance linéaire',
                        details: {
                            explanation: 'Scatter plot avec droite de régression. Montre la relation linéaire entre deux variables.',
                            syntax: 'sns.regplot(data=df, x, y)\nsns.lmplot(data=df, x, y, hue)',
                            options: [
                                { flag: 'ci', desc: 'Intervalle de confiance (95 par défaut)' },
                                { flag: 'order', desc: 'Degré polynomial (1=linéaire)' },
                                { flag: 'lowess', desc: 'Régression locale (non paramétrique)' },
                                { flag: 'hue', desc: 'Régressions par groupe (lmplot)' },
                                { flag: 'col', desc: 'Facettes par colonne (lmplot)' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\nsns.regplot(data=df, x="taille", y="poids")\nplt.show()', desc: 'Régression simple' },
                                { code: '# Par groupe\nsns.lmplot(data=df, x="experience", y="salaire", hue="niveau")\nplt.show()', desc: 'Par groupe avec lmplot' },
                                { code: '# Régression polynomiale\nsns.regplot(data=df, x="x", y="y", order=2)\nplt.show()', desc: 'Polynomial degré 2' }
                            ],
                            tips: ['lmplot pour facettes et groupes', 'regplot pour un seul axe matplotlib'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Série temporelle (ligne)',
                        desc: 'plt.plot() / sns.lineplot() évolution',
                        details: {
                            explanation: 'Trace l\'évolution d\'une variable dans le temps. Seaborn agrège automatiquement les répétitions.',
                            syntax: 'plt.plot(dates, values)\nsns.lineplot(data=df, x, y, hue)',
                            options: [
                                { flag: 'hue', desc: 'Lignes par catégorie' },
                                { flag: 'style', desc: 'Style de ligne par catégorie' },
                                { flag: 'ci', desc: 'Intervalle de confiance' },
                                { flag: 'marker', desc: 'Marqueurs sur les points' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\nimport pandas as pd\n\n# Série temporelle\nplt.figure(figsize=(12, 5))\nplt.plot(df["date"], df["valeur"])\nplt.xlabel("Date")\nplt.ylabel("Valeur")\nplt.xticks(rotation=45)\nplt.tight_layout()\nplt.show()', desc: 'Matplotlib basique' },
                                { code: 'import seaborn as sns\n\nsns.lineplot(data=df, x="mois", y="ventes", hue="produit")\nplt.show()', desc: 'Seaborn par groupe' },
                                { code: '# Avec intervalle de confiance\nsns.lineplot(data=df, x="temps", y="mesure", errorbar="sd")\nplt.show()', desc: 'Avec écart-type' }
                            ],
                            tips: ['Seaborn agrège automatiquement si plusieurs points par x', 'plt.xticks(rotation=45) pour dates lisibles'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Matrice de corrélation (heatmap)',
                        desc: 'sns.heatmap() visualiser corrélations',
                        details: {
                            explanation: 'Affiche une matrice de corrélations avec des couleurs. Identifie rapidement les variables liées.',
                            syntax: 'sns.heatmap(corr_matrix, annot=True)',
                            options: [
                                { flag: 'annot', desc: 'Afficher les valeurs' },
                                { flag: 'cmap', desc: 'Palette: "coolwarm", "RdBu_r"' },
                                { flag: 'vmin, vmax', desc: 'Limites de couleur' },
                                { flag: 'center', desc: 'Valeur centrale (0 pour corrélations)' },
                                { flag: 'square', desc: 'Cellules carrées' },
                                { flag: 'fmt', desc: 'Format des annotations: ".2f"' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Calculer les corrélations\ncorr = df.corr()\n\n# Heatmap\nplt.figure(figsize=(10, 8))\nsns.heatmap(corr, annot=True, cmap="coolwarm", center=0, fmt=".2f")\nplt.title("Matrice de corrélation")\nplt.tight_layout()\nplt.show()', desc: 'Corrélations annotées' },
                                { code: '# Triangle inférieur seulement\nimport numpy as np\nmask = np.triu(np.ones_like(corr, dtype=bool))\nsns.heatmap(corr, mask=mask, annot=True, cmap="coolwarm")\nplt.show()', desc: 'Triangle inférieur' }
                            ],
                            tips: ['center=0 pour corrélations (bleu=négatif, rouge=positif)', 'mask pour éviter la redondance'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Pairplot (toutes les relations)',
                        desc: 'sns.pairplot() exploration multivariée',
                        details: {
                            explanation: 'Grille de scatter plots entre toutes les paires de variables. Parfait pour l\'exploration.',
                            syntax: 'sns.pairplot(df, hue="categorie")',
                            options: [
                                { flag: 'hue', desc: 'Colorer par catégorie' },
                                { flag: 'vars', desc: 'Colonnes à inclure' },
                                { flag: 'diag_kind', desc: '"hist" ou "kde" sur la diagonale' },
                                { flag: 'kind', desc: '"scatter", "kde", "hist", "reg"' },
                                { flag: 'corner', desc: 'True pour triangle seulement' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\nsns.pairplot(df, hue="espece")\nplt.show()', desc: 'Pairplot avec groupes' },
                                { code: '# Colonnes spécifiques\nsns.pairplot(df, vars=["x", "y", "z"], hue="groupe", diag_kind="kde")\nplt.show()', desc: 'Variables sélectionnées' },
                                { code: '# Triangle seulement\nsns.pairplot(df, corner=True)\nplt.show()', desc: 'Sans redondance' }
                            ],
                            tips: ['corner=True évite la duplication', 'Limitez le nombre de variables pour la lisibilité'],
                            warnings: ['Peut être lent avec beaucoup de données']
                        }
                    },
                    {
                        cmd: 'Jointplot (2 variables + distributions)',
                        desc: 'sns.jointplot() scatter + marginales',
                        details: {
                            explanation: 'Combine scatter plot et distributions marginales. Vue complète de la relation entre deux variables.',
                            syntax: 'sns.jointplot(data=df, x, y, kind="scatter")',
                            options: [
                                { flag: 'kind', desc: '"scatter", "kde", "hist", "hex", "reg"' },
                                { flag: 'hue', desc: 'Grouper par catégorie' },
                                { flag: 'marginal_kws', desc: 'Options pour les marginales' },
                                { flag: 'height', desc: 'Taille de la figure' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\nsns.jointplot(data=df, x="x", y="y", kind="scatter")\nplt.show()', desc: 'Scatter avec marginales' },
                                { code: '# Avec KDE\nsns.jointplot(data=df, x="x", y="y", kind="kde", fill=True)\nplt.show()', desc: 'KDE 2D' },
                                { code: '# Avec régression\nsns.jointplot(data=df, x="taille", y="poids", kind="reg")\nplt.show()', desc: 'Avec régression' },
                                { code: '# Hexbin pour grands datasets\nsns.jointplot(data=df, x="x", y="y", kind="hex")\nplt.show()', desc: 'Hexbin' }
                            ],
                            tips: ['kind="hex" pour les grands datasets', 'kind="reg" ajoute une régression'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Graphique avec 2 axes Y',
                        desc: 'ax.twinx() double échelle',
                        details: {
                            explanation: 'Permet de tracer deux variables avec des échelles différentes sur le même graphique.',
                            syntax: 'ax1 = plt.gca()\nax2 = ax1.twinx()',
                            options: [],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\n\nfig, ax1 = plt.subplots()\n\n# Premier axe Y (gauche)\ncolor1 = "tab:blue"\nax1.set_xlabel("Date")\nax1.set_ylabel("Ventes", color=color1)\nax1.plot(dates, ventes, color=color1)\nax1.tick_params(axis="y", labelcolor=color1)\n\n# Deuxième axe Y (droite)\nax2 = ax1.twinx()\ncolor2 = "tab:red"\nax2.set_ylabel("Prix", color=color2)\nax2.plot(dates, prix, color=color2)\nax2.tick_params(axis="y", labelcolor=color2)\n\nplt.title("Ventes et Prix")\nfig.tight_layout()\nplt.show()', desc: 'Double axe Y' }
                            ],
                            tips: ['Utilisez des couleurs différentes pour chaque axe', 'Ajoutez une légende pour clarifier'],
                            warnings: ['Peut être trompeur si mal utilisé']
                        }
                    }
                ]
            },
            {
                id: 'categorical',
                title: 'Visualiser des Catégories',
                icon: 'fa-tags',
                color: 'border-l-4 border-orange-500',
                commands: [
                    {
                        cmd: 'Compter des catégories',
                        desc: 'sns.countplot() fréquences par groupe',
                        details: {
                            explanation: 'Compte et affiche le nombre d\'occurrences de chaque catégorie. Équivalent visuel de value_counts().',
                            syntax: 'sns.countplot(data=df, x="categorie")',
                            options: [
                                { flag: 'x / y', desc: 'Variable catégorielle' },
                                { flag: 'hue', desc: 'Sous-groupes' },
                                { flag: 'order', desc: 'Ordre des catégories' },
                                { flag: 'palette', desc: 'Palette de couleurs' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\nsns.countplot(data=df, x="categorie")\nplt.xlabel("Catégorie")\nplt.ylabel("Nombre")\nplt.show()', desc: 'Comptage simple' },
                                { code: '# Ordonné par fréquence\norder = df["cat"].value_counts().index\nsns.countplot(data=df, x="cat", order=order)\nplt.show()', desc: 'Trié par fréquence' },
                                { code: '# Avec sous-groupes\nsns.countplot(data=df, x="region", hue="statut")\nplt.legend(title="Statut")\nplt.show()', desc: 'Avec hue' }
                            ],
                            tips: ['order= pour trier les barres', 'Utilisez y= au lieu de x= pour horizontal'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Barres groupées/empilées',
                        desc: 'sns.barplot() avec hue pour comparaisons',
                        details: {
                            explanation: 'Compare des moyennes entre catégories et sous-catégories. Barres groupées côte à côte.',
                            syntax: 'sns.barplot(data=df, x, y, hue)',
                            options: [
                                { flag: 'errorbar', desc: '"ci", "sd", "se", None' },
                                { flag: 'estimator', desc: 'Fonction: np.mean, np.sum, etc.' },
                                { flag: 'hue', desc: 'Sous-groupes' },
                                { flag: 'palette', desc: 'Palette de couleurs' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\nsns.barplot(data=df, x="region", y="ventes", hue="annee")\nplt.legend(title="Année")\nplt.show()', desc: 'Groupé par année' },
                                { code: '# Sans barre d\'erreur\nsns.barplot(data=df, x="categorie", y="valeur", errorbar=None)\nplt.show()', desc: 'Sans CI' },
                                { code: '# Somme au lieu de moyenne\nimport numpy as np\nsns.barplot(data=df, x="mois", y="ventes", estimator=np.sum)\nplt.show()', desc: 'Somme' }
                            ],
                            tips: ['Seaborn calcule automatiquement la moyenne', 'errorbar="sd" pour écart-type'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Strip/Swarm plot (points par catégorie)',
                        desc: 'sns.stripplot() / sns.swarmplot() tous les points',
                        details: {
                            explanation: 'Affiche tous les points individuels par catégorie. Swarm évite le chevauchement.',
                            syntax: 'sns.stripplot(data=df, x, y)\nsns.swarmplot(data=df, x, y)',
                            options: [
                                { flag: 'jitter', desc: 'Décalage aléatoire (stripplot)' },
                                { flag: 'dodge', desc: 'Séparer les groupes hue' },
                                { flag: 'hue', desc: 'Sous-groupes' },
                                { flag: 'size', desc: 'Taille des points' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\n# Stripplot avec jitter\nsns.stripplot(data=df, x="groupe", y="valeur", jitter=True, alpha=0.5)\nplt.show()', desc: 'Stripplot' },
                                { code: '# Swarmplot (pas de chevauchement)\nsns.swarmplot(data=df, x="categorie", y="score")\nplt.show()', desc: 'Swarmplot' },
                                { code: '# Combiner avec boxplot\nsns.boxplot(data=df, x="groupe", y="valeur", color="lightgray")\nsns.stripplot(data=df, x="groupe", y="valeur", color="black", alpha=0.5)\nplt.show()', desc: 'Box + points' }
                            ],
                            tips: ['Swarmplot montre la distribution exacte', 'Combinez avec boxplot pour le meilleur des deux'],
                            warnings: ['Swarmplot est lent avec beaucoup de points']
                        }
                    },
                    {
                        cmd: 'Catplot (facettes)',
                        desc: 'sns.catplot() multi-panneaux catégoriels',
                        details: {
                            explanation: 'Crée des graphiques catégoriels avec facettes (plusieurs panneaux). Interface unifiée.',
                            syntax: 'sns.catplot(data=df, x, y, hue, col, row, kind)',
                            options: [
                                { flag: 'kind', desc: '"strip", "swarm", "box", "violin", "bar", "count"' },
                                { flag: 'col', desc: 'Facettes en colonnes' },
                                { flag: 'row', desc: 'Facettes en lignes' },
                                { flag: 'col_wrap', desc: 'Nombre de colonnes avant retour' },
                                { flag: 'height', desc: 'Hauteur de chaque facette' },
                                { flag: 'aspect', desc: 'Ratio largeur/hauteur' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\nsns.catplot(data=df, x="jour", y="ventes", hue="type", col="region", kind="bar")\nplt.show()', desc: 'Barplot par région' },
                                { code: '# Boxplot en facettes\nsns.catplot(data=df, x="categorie", y="valeur", col="annee", kind="box", col_wrap=2)\nplt.show()', desc: 'Boxplot en grille' },
                                { code: '# Violinplot\nsns.catplot(data=df, x="groupe", y="score", row="niveau", kind="violin")\nplt.show()', desc: 'Violin par niveau' }
                            ],
                            tips: ['kind= change le type de graphique', 'col_wrap contrôle la mise en page'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Barres horizontales',
                        desc: 'plt.barh() / orient="h" pour longues étiquettes',
                        details: {
                            explanation: 'Barres horizontales. Idéal quand les étiquettes de catégories sont longues.',
                            syntax: 'plt.barh(y, width)\nsns.barplot(data=df, x, y, orient="h")',
                            options: [
                                { flag: 'height', desc: 'Hauteur des barres' },
                                { flag: 'color', desc: 'Couleur' },
                                { flag: 'orient', desc: '"h" pour horizontal (Seaborn)' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\n\ncategories = ["Catégorie longue A", "Catégorie longue B", "Catégorie longue C"]\nvaleurs = [45, 32, 28]\n\nplt.barh(categories, valeurs, color="steelblue")\nplt.xlabel("Valeur")\nplt.tight_layout()\nplt.show()', desc: 'Matplotlib horizontal' },
                                { code: 'import seaborn as sns\n\nsns.barplot(data=df, x="ventes", y="produit", orient="h")\nplt.xlabel("Ventes")\nplt.show()', desc: 'Seaborn horizontal' }
                            ],
                            tips: ['Parfait pour les noms de catégories longs', 'Triez pour plus de clarté'],
                            warnings: []
                        }
                    }
                ]
            },
            {
                id: 'customize',
                title: 'Personnaliser l\'Apparence',
                icon: 'fa-palette',
                color: 'border-l-4 border-pink-500',
                commands: [
                    {
                        cmd: 'Ajouter titre et labels',
                        desc: 'plt.title(), plt.xlabel(), plt.ylabel()',
                        details: {
                            explanation: 'Ajoute un titre et des étiquettes aux axes. Essentiel pour la clarté.',
                            syntax: 'plt.title("Titre")\nplt.xlabel("X")\nplt.ylabel("Y")',
                            options: [
                                { flag: 'fontsize', desc: 'Taille de police' },
                                { flag: 'fontweight', desc: '"bold", "normal"' },
                                { flag: 'color', desc: 'Couleur du texte' },
                                { flag: 'loc', desc: 'Position: "left", "center", "right"' }
                            ],
                            examples: [
                                { code: 'plt.title("Mon Graphique", fontsize=16, fontweight="bold")\nplt.xlabel("Variable X", fontsize=12)\nplt.ylabel("Variable Y", fontsize=12)\nplt.show()', desc: 'Titre et labels' },
                                { code: '# Avec fig et ax\nfig, ax = plt.subplots()\nax.plot(x, y)\nax.set_title("Titre")\nax.set_xlabel("X")\nax.set_ylabel("Y")\nplt.show()', desc: 'Syntaxe orientée objet' },
                                { code: '# Suptitle pour figure globale\nfig, axes = plt.subplots(1, 2)\nfig.suptitle("Titre global", fontsize=14)\nplt.show()', desc: 'Titre global' }
                            ],
                            tips: ['Utilisez fig.suptitle() pour un titre au-dessus de subplots', 'Syntaxe OO (ax.set_*) plus flexible'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Configurer la légende',
                        desc: 'plt.legend() position et style',
                        details: {
                            explanation: 'Contrôle la position, le style et le contenu de la légende.',
                            syntax: 'plt.legend(loc="best", title="Titre")',
                            options: [
                                { flag: 'loc', desc: '"best", "upper right", "lower left", etc.' },
                                { flag: 'bbox_to_anchor', desc: 'Position exacte (x, y)' },
                                { flag: 'ncol', desc: 'Nombre de colonnes' },
                                { flag: 'title', desc: 'Titre de la légende' },
                                { flag: 'frameon', desc: 'Cadre autour (True/False)' }
                            ],
                            examples: [
                                { code: 'plt.plot(x, y1, label="Série 1")\nplt.plot(x, y2, label="Série 2")\nplt.legend(loc="upper right", title="Données")\nplt.show()', desc: 'Légende basique' },
                                { code: '# Légende en dehors\nplt.legend(bbox_to_anchor=(1.05, 1), loc="upper left")\nplt.tight_layout()\nplt.show()', desc: 'Légende externe' },
                                { code: '# Légende en bas sur plusieurs colonnes\nplt.legend(loc="upper center", bbox_to_anchor=(0.5, -0.15), ncol=3)\nplt.show()', desc: 'Multi-colonnes' }
                            ],
                            tips: ['bbox_to_anchor place la légende en dehors', 'tight_layout() ajuste l\'espace'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Définir les limites des axes',
                        desc: 'plt.xlim(), plt.ylim() bornes',
                        details: {
                            explanation: 'Contrôle les limites min/max des axes.',
                            syntax: 'plt.xlim(min, max)\nplt.ylim(min, max)',
                            options: [],
                            examples: [
                                { code: 'plt.plot(x, y)\nplt.xlim(0, 10)\nplt.ylim(-1, 1)\nplt.show()', desc: 'Limites fixes' },
                                { code: '# Syntaxe OO\nax.set_xlim(0, 100)\nax.set_ylim(0, None)  # Auto pour max\nplt.show()', desc: 'Avec ax' },
                                { code: '# Axes égaux\nplt.axis("equal")\nplt.show()', desc: 'Échelle identique X et Y' }
                            ],
                            tips: ['None pour garder la valeur auto', 'plt.axis("equal") pour X et Y identiques'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Personnaliser les ticks',
                        desc: 'plt.xticks(), rotation, format',
                        details: {
                            explanation: 'Contrôle les graduations des axes : position, labels, rotation.',
                            syntax: 'plt.xticks(ticks, labels, rotation=45)',
                            options: [
                                { flag: 'ticks', desc: 'Positions des graduations' },
                                { flag: 'labels', desc: 'Textes des graduations' },
                                { flag: 'rotation', desc: 'Angle de rotation' },
                                { flag: 'fontsize', desc: 'Taille de police' },
                                { flag: 'ha', desc: 'Alignement horizontal' }
                            ],
                            examples: [
                                { code: '# Rotation pour dates\nplt.xticks(rotation=45, ha="right")\nplt.tight_layout()\nplt.show()', desc: 'Rotation 45°' },
                                { code: '# Ticks personnalisés\nplt.xticks([0, 1, 2], ["A", "B", "C"])\nplt.show()', desc: 'Labels personnalisés' },
                                { code: '# Format des nombres\nimport matplotlib.ticker as mtick\nax.yaxis.set_major_formatter(mtick.PercentFormatter())\nplt.show()', desc: 'Format pourcentage' }
                            ],
                            tips: ['ha="right" avec rotation pour bon alignement', 'tight_layout() évite les labels coupés'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Ajouter une grille',
                        desc: 'plt.grid() lignes de référence',
                        details: {
                            explanation: 'Ajoute une grille pour faciliter la lecture des valeurs.',
                            syntax: 'plt.grid(True, axis="both", linestyle="--")',
                            options: [
                                { flag: 'axis', desc: '"both", "x", "y"' },
                                { flag: 'which', desc: '"major", "minor", "both"' },
                                { flag: 'linestyle', desc: '"-", "--", ":", "-."' },
                                { flag: 'alpha', desc: 'Transparence' },
                                { flag: 'color', desc: 'Couleur des lignes' }
                            ],
                            examples: [
                                { code: 'plt.plot(x, y)\nplt.grid(True, linestyle="--", alpha=0.7)\nplt.show()', desc: 'Grille basique' },
                                { code: '# Grille horizontale seulement\nplt.grid(True, axis="y", linestyle=":")\nplt.show()', desc: 'Horizontale seulement' },
                                { code: '# Grille fine (major + minor)\nplt.minorticks_on()\nplt.grid(True, which="both", linestyle="-", alpha=0.2)\nplt.show()', desc: 'Grille fine' }
                            ],
                            tips: ['alpha < 1 pour une grille discrète', 'minorticks_on() pour grille fine'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Annoter des points',
                        desc: 'plt.annotate() flèches et texte',
                        details: {
                            explanation: 'Ajoute du texte et des flèches pour mettre en évidence des points spécifiques.',
                            syntax: 'plt.annotate(text, xy, xytext, arrowprops)',
                            options: [
                                { flag: 'xy', desc: 'Coordonnées du point à annoter' },
                                { flag: 'xytext', desc: 'Position du texte' },
                                { flag: 'arrowprops', desc: 'Propriétés de la flèche' },
                                { flag: 'fontsize', desc: 'Taille du texte' },
                                { flag: 'ha, va', desc: 'Alignement horizontal/vertical' }
                            ],
                            examples: [
                                { code: 'plt.plot(x, y)\nplt.annotate("Maximum",\n    xy=(x_max, y_max),\n    xytext=(x_max+1, y_max+0.5),\n    arrowprops=dict(arrowstyle="->", color="red"),\n    fontsize=10\n)\nplt.show()', desc: 'Annotation avec flèche' },
                                { code: '# Texte simple\nplt.text(x, y, "Label", fontsize=10, ha="center")\nplt.show()', desc: 'Texte simple' },
                                { code: '# Plusieurs annotations\nfor i, (xi, yi) in enumerate(zip(x, y)):\n    plt.annotate(f"{yi:.1f}", (xi, yi), textcoords="offset points", xytext=(0, 5), ha="center")\nplt.show()', desc: 'Labels sur tous les points' }
                            ],
                            tips: ['arrowprops=dict(arrowstyle="->") pour une flèche', 'textcoords="offset points" pour décalage relatif'],
                            warnings: []
                        }
                    }
                ]
            },
            {
                id: 'subplots',
                title: 'Organiser Plusieurs Graphiques',
                icon: 'fa-table-cells-large',
                color: 'border-l-4 border-cyan-500',
                commands: [
                    {
                        cmd: 'Créer des subplots',
                        desc: 'fig, axes = plt.subplots(2, 2) grille',
                        details: {
                            explanation: 'Crée une grille de sous-graphiques. Retourne la figure et les axes.',
                            syntax: 'fig, axes = plt.subplots(nrows, ncols, figsize)',
                            options: [
                                { flag: 'nrows, ncols', desc: 'Nombre de lignes et colonnes' },
                                { flag: 'figsize', desc: 'Taille (largeur, hauteur) en pouces' },
                                { flag: 'sharex, sharey', desc: 'Partager les axes' },
                                { flag: 'squeeze', desc: 'False pour toujours avoir un array 2D' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\n\nfig, axes = plt.subplots(2, 2, figsize=(10, 8))\n\naxes[0, 0].plot(x, y1)\naxes[0, 0].set_title("Plot 1")\n\naxes[0, 1].scatter(x, y2)\naxes[0, 1].set_title("Plot 2")\n\naxes[1, 0].bar(categories, values)\naxes[1, 0].set_title("Plot 3")\n\naxes[1, 1].hist(data)\naxes[1, 1].set_title("Plot 4")\n\nplt.tight_layout()\nplt.show()', desc: 'Grille 2x2' },
                                { code: '# Une seule ligne\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(12, 4))\nax1.plot(x, y)\nax2.scatter(x, y)\nplt.tight_layout()\nplt.show()', desc: '1 ligne, 2 colonnes' },
                                { code: '# Axes partagés\nfig, axes = plt.subplots(2, 1, sharex=True)\naxes[0].plot(x, y1)\naxes[1].plot(x, y2)\nplt.show()', desc: 'Axes X partagés' }
                            ],
                            tips: ['tight_layout() ajuste automatiquement les espacements', 'sharex/sharey pour synchroniser les axes'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Subplots avec tailles différentes',
                        desc: 'GridSpec, subplot2grid() mise en page avancée',
                        details: {
                            explanation: 'Crée des layouts complexes avec des subplots de tailles différentes.',
                            syntax: 'gs = fig.add_gridspec(nrows, ncols)\nax = fig.add_subplot(gs[slice])',
                            options: [
                                { flag: 'width_ratios', desc: 'Ratios de largeur des colonnes' },
                                { flag: 'height_ratios', desc: 'Ratios de hauteur des lignes' },
                                { flag: 'hspace, wspace', desc: 'Espacement vertical/horizontal' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\nfrom matplotlib.gridspec import GridSpec\n\nfig = plt.figure(figsize=(12, 8))\ngs = GridSpec(2, 3, figure=fig)\n\nax1 = fig.add_subplot(gs[0, :])  # Toute la première ligne\nax2 = fig.add_subplot(gs[1, 0])  # En bas à gauche\nax3 = fig.add_subplot(gs[1, 1:]) # 2/3 en bas à droite\n\nax1.plot(x, y)\nax2.hist(data)\nax3.scatter(x, y)\n\nplt.tight_layout()\nplt.show()', desc: 'GridSpec flexible' },
                                { code: '# Ratios de taille\nfig, axes = plt.subplots(1, 2, figsize=(12, 4),\n    gridspec_kw={"width_ratios": [2, 1]})\nplt.show()', desc: 'Ratios de largeur' }
                            ],
                            tips: ['gs[0, :] sélectionne toute la première ligne', 'width_ratios pour colonnes de tailles différentes'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Ajouter un graphique dans un autre',
                        desc: 'fig.add_axes(), inset axes',
                        details: {
                            explanation: 'Insère un petit graphique à l\'intérieur d\'un autre (inset).',
                            syntax: 'ax_inset = fig.add_axes([left, bottom, width, height])',
                            options: [
                                { flag: '[l, b, w, h]', desc: 'Position et taille (0-1, relatif à la figure)' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\n\nfig, ax = plt.subplots(figsize=(10, 6))\nax.plot(x, y)\nax.set_title("Graphique principal")\n\n# Inset en haut à droite\nax_inset = fig.add_axes([0.6, 0.6, 0.25, 0.25])  # [left, bottom, width, height]\nax_inset.plot(x[:20], y[:20], "r-")\nax_inset.set_title("Zoom", fontsize=10)\n\nplt.show()', desc: 'Inset avec add_axes' },
                                { code: '# Avec inset_axes\nfrom mpl_toolkits.axes_grid1.inset_locator import inset_axes\n\nax_inset = inset_axes(ax, width="30%", height="30%", loc="upper right")\nax_inset.plot(x_zoom, y_zoom)\nplt.show()', desc: 'Avec inset_axes' }
                            ],
                            tips: ['Les coordonnées sont relatives à la figure (0-1)', 'inset_axes est plus pratique pour le positionnement'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Ajuster les espacements',
                        desc: 'plt.tight_layout(), subplots_adjust()',
                        details: {
                            explanation: 'Ajuste automatiquement ou manuellement les espacements entre subplots.',
                            syntax: 'plt.tight_layout()\nplt.subplots_adjust(hspace, wspace)',
                            options: [
                                { flag: 'hspace', desc: 'Espace vertical entre subplots' },
                                { flag: 'wspace', desc: 'Espace horizontal entre subplots' },
                                { flag: 'left, right', desc: 'Marges gauche et droite' },
                                { flag: 'top, bottom', desc: 'Marges haut et bas' }
                            ],
                            examples: [
                                { code: '# Automatique\nfig, axes = plt.subplots(2, 2)\n# ... tracer les graphiques\nplt.tight_layout()\nplt.show()', desc: 'Ajustement auto' },
                                { code: '# Manuel\nplt.subplots_adjust(hspace=0.4, wspace=0.3)\nplt.show()', desc: 'Espacement manuel' },
                                { code: '# Avec suptitle\nfig.suptitle("Titre global")\nplt.tight_layout(rect=[0, 0, 1, 0.95])  # Laisser place au titre\nplt.show()', desc: 'Avec titre global' }
                            ],
                            tips: ['tight_layout() résout la plupart des problèmes', 'rect=[0, 0, 1, 0.95] laisse de la place pour suptitle'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Facettes avec Seaborn',
                        desc: 'FacetGrid, col, row pour panneaux multiples',
                        details: {
                            explanation: 'Crée automatiquement des panneaux multiples basés sur des variables catégorielles.',
                            syntax: 'g = sns.FacetGrid(df, col="var", row="var2")\ng.map(sns.scatterplot, "x", "y")',
                            options: [
                                { flag: 'col', desc: 'Variable pour les colonnes' },
                                { flag: 'row', desc: 'Variable pour les lignes' },
                                { flag: 'hue', desc: 'Variable pour les couleurs' },
                                { flag: 'col_wrap', desc: 'Nombre de colonnes avant retour' },
                                { flag: 'height', desc: 'Hauteur de chaque facette' },
                                { flag: 'aspect', desc: 'Ratio largeur/hauteur' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\ng = sns.FacetGrid(df, col="region", col_wrap=3, height=4)\ng.map(sns.histplot, "ventes")\ng.set_titles("{col_name}")\nplt.show()', desc: 'Histogrammes par région' },
                                { code: '# Scatter par groupe\ng = sns.FacetGrid(df, col="annee", hue="categorie")\ng.map(sns.scatterplot, "x", "y")\ng.add_legend()\nplt.show()', desc: 'Scatter avec hue' },
                                { code: '# relplot plus simple\nsns.relplot(data=df, x="x", y="y", col="groupe", hue="type", kind="scatter")\nplt.show()', desc: 'Avec relplot' }
                            ],
                            tips: ['relplot et catplot sont souvent plus simples', 'col_wrap évite trop de colonnes'],
                            warnings: []
                        }
                    }
                ]
            },
            {
                id: 'styles',
                title: 'Styles et Thèmes',
                icon: 'fa-paint-brush',
                color: 'border-l-4 border-amber-500',
                commands: [
                    {
                        cmd: 'Choisir un style Matplotlib',
                        desc: 'plt.style.use() thèmes prédéfinis',
                        details: {
                            explanation: 'Applique un style prédéfini qui modifie l\'apparence de tous les graphiques.',
                            syntax: 'plt.style.use("style_name")',
                            options: [
                                { flag: 'seaborn', desc: 'Style Seaborn classique' },
                                { flag: 'ggplot', desc: 'Style R ggplot2' },
                                { flag: 'fivethirtyeight', desc: 'Style journalistique' },
                                { flag: 'dark_background', desc: 'Fond sombre' },
                                { flag: 'bmh', desc: 'Bayesian Methods for Hackers' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\n\n# Voir les styles disponibles\nprint(plt.style.available)', desc: 'Lister les styles' },
                                { code: '# Appliquer un style\nplt.style.use("seaborn-v0_8-whitegrid")\nplt.plot(x, y)\nplt.show()', desc: 'Style seaborn' },
                                { code: '# Style temporaire\nwith plt.style.context("dark_background"):\n    plt.plot(x, y)\n    plt.show()', desc: 'Style temporaire' },
                                { code: '# Combiner des styles\nplt.style.use(["seaborn-v0_8", "seaborn-v0_8-poster"])\nplt.show()', desc: 'Combiner styles' }
                            ],
                            tips: ['with plt.style.context() pour style temporaire', 'plt.style.available liste tous les styles'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Configurer le thème Seaborn',
                        desc: 'sns.set_theme() context et palette',
                        details: {
                            explanation: 'Configure le thème global de Seaborn : style, context (taille), et palette de couleurs.',
                            syntax: 'sns.set_theme(style, context, palette)',
                            options: [
                                { flag: 'style', desc: '"darkgrid", "whitegrid", "dark", "white", "ticks"' },
                                { flag: 'context', desc: '"paper", "notebook", "talk", "poster"' },
                                { flag: 'palette', desc: '"deep", "muted", "pastel", "bright", etc.' },
                                { flag: 'font', desc: 'Police à utiliser' },
                                { flag: 'font_scale', desc: 'Échelle de taille de police' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\n# Configuration globale\nsns.set_theme(style="whitegrid", context="talk", palette="Set2")\n\nsns.scatterplot(data=df, x="x", y="y")\nplt.show()', desc: 'Thème personnalisé' },
                                { code: '# Pour présentations\nsns.set_theme(context="poster", font_scale=1.2)\nplt.show()', desc: 'Style présentation' },
                                { code: '# Reset au défaut\nsns.set_theme()', desc: 'Réinitialiser' }
                            ],
                            tips: ['context="talk" pour présentations', 'context="paper" pour publications'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Utiliser des palettes de couleurs',
                        desc: 'sns.color_palette() couleurs cohérentes',
                        details: {
                            explanation: 'Définit des palettes de couleurs pour les graphiques. Couleurs qualitatives ou continues.',
                            syntax: 'palette = sns.color_palette("name", n_colors)\nsns.set_palette(palette)',
                            options: [
                                { flag: 'deep, muted, pastel, bright', desc: 'Palettes qualitatives' },
                                { flag: 'Set1, Set2, Set3', desc: 'Palettes ColorBrewer' },
                                { flag: 'viridis, coolwarm', desc: 'Palettes continues' },
                                { flag: 'husl, hls', desc: 'Palettes circulaires' },
                                { flag: 'n_colors', desc: 'Nombre de couleurs' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\n\n# Voir une palette\nsns.color_palette("Set2")\nplt.show()', desc: 'Visualiser palette' },
                                { code: '# Appliquer globalement\nsns.set_palette("colorblind")\nsns.barplot(data=df, x="cat", y="val")\nplt.show()', desc: 'Palette daltonien' },
                                { code: '# Palette personnalisée\nmy_palette = ["#1f77b4", "#ff7f0e", "#2ca02c"]\nsns.set_palette(my_palette)\nplt.show()', desc: 'Couleurs custom' },
                                { code: '# Palette continue pour heatmap\nsns.heatmap(data, cmap="YlOrRd")\nplt.show()', desc: 'Palette continue' }
                            ],
                            tips: ['"colorblind" est une palette accessible', 'color_palette() sans set_ pour usage ponctuel'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Configuration globale (rcParams)',
                        desc: 'plt.rcParams[] paramètres par défaut',
                        details: {
                            explanation: 'Modifie les paramètres par défaut de Matplotlib pour toute la session.',
                            syntax: 'plt.rcParams["param"] = value',
                            options: [
                                { flag: 'figure.figsize', desc: 'Taille par défaut [w, h]' },
                                { flag: 'figure.dpi', desc: 'Résolution' },
                                { flag: 'font.size', desc: 'Taille de police par défaut' },
                                { flag: 'axes.titlesize', desc: 'Taille des titres' },
                                { flag: 'lines.linewidth', desc: 'Épaisseur des lignes' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\n\n# Configuration globale\nplt.rcParams["figure.figsize"] = [12, 6]\nplt.rcParams["figure.dpi"] = 100\nplt.rcParams["font.size"] = 12\nplt.rcParams["axes.titlesize"] = 14\nplt.rcParams["lines.linewidth"] = 2', desc: 'Paramètres courants' },
                                { code: '# Voir tous les paramètres\nprint(plt.rcParams.keys())', desc: 'Lister paramètres' },
                                { code: '# Réinitialiser\nplt.rcdefaults()', desc: 'Reset aux défauts' }
                            ],
                            tips: ['Mettez ces paramètres au début de votre script', 'plt.rcdefaults() pour réinitialiser'],
                            warnings: []
                        }
                    }
                ]
            },
            {
                id: 'export',
                title: 'Sauvegarder et Exporter',
                icon: 'fa-download',
                color: 'border-l-4 border-green-500',
                commands: [
                    {
                        cmd: 'Sauvegarder en PNG/PDF haute qualité',
                        desc: 'plt.savefig() avec dpi et bbox',
                        details: {
                            explanation: 'Sauvegarde la figure dans un fichier image. Contrôle la résolution et les marges.',
                            syntax: 'plt.savefig(filename, dpi=300, bbox_inches="tight")',
                            options: [
                                { flag: 'dpi', desc: 'Résolution (300 pour impression)' },
                                { flag: 'bbox_inches', desc: '"tight" pour éviter les coupures' },
                                { flag: 'facecolor', desc: 'Couleur de fond' },
                                { flag: 'transparent', desc: 'Fond transparent (PNG)' },
                                { flag: 'format', desc: 'Format forcé si pas dans le nom' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\n\nplt.plot(x, y)\nplt.title("Mon graphique")\n\n# Sauvegarder en PNG haute qualité\nplt.savefig("graphique.png", dpi=300, bbox_inches="tight")\nplt.show()', desc: 'PNG haute résolution' },
                                { code: '# PDF pour publication\nplt.savefig("figure.pdf", bbox_inches="tight")\nprint("PDF sauvegardé")', desc: 'PDF vectoriel' },
                                { code: '# Fond transparent\nplt.savefig("logo.png", dpi=300, transparent=True, bbox_inches="tight")\nprint("PNG transparent sauvegardé")', desc: 'Fond transparent' }
                            ],
                            tips: ['dpi=300 pour impression, 150 pour écran', 'bbox_inches="tight" évite les labels coupés'],
                            warnings: ['savefig() AVANT show() sinon figure vide']
                        }
                    },
                    {
                        cmd: 'Exporter en SVG (vectoriel)',
                        desc: 'format="svg" pour graphiques scalables',
                        details: {
                            explanation: 'Exporte en SVG pour des graphiques vectoriels qui restent nets à toute taille.',
                            syntax: 'plt.savefig(filename, format="svg")',
                            options: [],
                            examples: [
                                { code: 'plt.plot(x, y)\nplt.title("Graphique vectoriel")\n\nplt.savefig("figure.svg", bbox_inches="tight")\nprint("SVG sauvegardé")', desc: 'Export SVG' },
                                { code: '# Pour LaTeX/publications\nplt.savefig("figure.eps", bbox_inches="tight")\nplt.savefig("figure.pdf", bbox_inches="tight")\nprint("EPS et PDF sauvegardés")', desc: 'EPS pour LaTeX' }
                            ],
                            tips: ['SVG parfait pour le web', 'PDF/EPS pour publications scientifiques'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Sauvegarder plusieurs figures',
                        desc: 'Boucle et noms dynamiques',
                        details: {
                            explanation: 'Sauvegarde plusieurs figures avec des noms générés automatiquement.',
                            syntax: 'for i, data in enumerate(datasets):\n    plt.savefig(f"fig_{i}.png")',
                            options: [],
                            examples: [
                                { code: '# Plusieurs figures en boucle\nfor i, col in enumerate(df.columns):\n    plt.figure()\n    plt.hist(df[col])\n    plt.title(f"Distribution de {col}")\n    plt.savefig(f"hist_{col}.png", dpi=150, bbox_inches="tight")\n    plt.close()  # Libérer la mémoire\n\nprint(f"{len(df.columns)} figures sauvegardées")', desc: 'Boucle avec noms' },
                                { code: '# PDF multipages\nfrom matplotlib.backends.backend_pdf import PdfPages\n\nwith PdfPages("rapport.pdf") as pdf:\n    for data in datasets:\n        plt.figure()\n        plt.plot(data)\n        pdf.savefig(bbox_inches="tight")\n        plt.close()\n\nprint("PDF multipages créé")', desc: 'PDF multipages' }
                            ],
                            tips: ['plt.close() libère la mémoire', 'PdfPages pour un seul PDF avec plusieurs pages'],
                            warnings: []
                        }
                    }
                ]
            },
            {
                id: 'advanced',
                title: 'Graphiques Avancés',
                icon: 'fa-wand-sparkles',
                color: 'border-l-4 border-red-500',
                commands: [
                    {
                        cmd: 'Graphique radar/polaire',
                        desc: 'plt.polar() projection="polar"',
                        details: {
                            explanation: 'Crée des graphiques en coordonnées polaires, parfait pour les comparaisons multi-critères.',
                            syntax: 'ax = fig.add_subplot(projection="polar")\nax.plot(angles, values)',
                            options: [],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\nimport numpy as np\n\n# Données radar\ncategories = ["A", "B", "C", "D", "E"]\nvalues = [4, 3, 5, 2, 4]\n\n# Fermer le polygone\nangles = np.linspace(0, 2*np.pi, len(categories), endpoint=False).tolist()\nvalues_closed = values + [values[0]]\nangles_closed = angles + [angles[0]]\n\n# Tracer\nfig, ax = plt.subplots(subplot_kw=dict(projection="polar"))\nax.plot(angles_closed, values_closed, "o-", linewidth=2)\nax.fill(angles_closed, values_closed, alpha=0.25)\nax.set_xticks(angles)\nax.set_xticklabels(categories)\nax.set_title("Radar Chart")\nplt.show()', desc: 'Radar chart' }
                            ],
                            tips: ['Fermez le polygone en répétant la première valeur', 'fill() pour remplir l\'aire'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Heatmap avec annotations',
                        desc: 'sns.heatmap(annot=True) valeurs dans cellules',
                        details: {
                            explanation: 'Heatmap avec les valeurs affichées dans chaque cellule.',
                            syntax: 'sns.heatmap(data, annot=True, fmt=".2f", cmap="viridis")',
                            options: [
                                { flag: 'annot', desc: 'Afficher les valeurs' },
                                { flag: 'fmt', desc: 'Format: ".2f", "d", ".1%"' },
                                { flag: 'cmap', desc: 'Palette de couleurs' },
                                { flag: 'linewidths', desc: 'Largeur des lignes de séparation' },
                                { flag: 'cbar', desc: 'Afficher la colorbar' },
                                { flag: 'annot_kws', desc: 'Propriétés des annotations' }
                            ],
                            examples: [
                                { code: 'import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Heatmap avec annotations\nplt.figure(figsize=(10, 8))\nsns.heatmap(df.corr(), annot=True, fmt=".2f", cmap="coolwarm", center=0, linewidths=0.5)\nplt.title("Matrice de corrélation")\nplt.tight_layout()\nplt.show()', desc: 'Corrélations annotées' },
                                { code: '# Annotations personnalisées\nsns.heatmap(data, annot=True, fmt="d", cmap="YlOrRd", annot_kws={"size": 10, "weight": "bold"})\nplt.show()', desc: 'Style annotations' }
                            ],
                            tips: ['fmt="d" pour entiers, ".2f" pour 2 décimales', 'linewidths ajoute des séparateurs'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Graphique avec barres d\'erreur',
                        desc: 'plt.errorbar() incertitudes',
                        details: {
                            explanation: 'Ajoute des barres d\'erreur pour montrer l\'incertitude ou la variabilité.',
                            syntax: 'plt.errorbar(x, y, yerr, xerr, fmt)',
                            options: [
                                { flag: 'yerr', desc: 'Erreur verticale' },
                                { flag: 'xerr', desc: 'Erreur horizontale' },
                                { flag: 'fmt', desc: 'Format des points' },
                                { flag: 'capsize', desc: 'Taille des caps' },
                                { flag: 'ecolor', desc: 'Couleur des barres d\'erreur' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\nimport numpy as np\n\nx = [1, 2, 3, 4, 5]\ny = [2, 4, 3, 5, 4]\nyerr = [0.5, 0.3, 0.4, 0.6, 0.2]\n\nplt.errorbar(x, y, yerr=yerr, fmt="o-", capsize=5, capthick=2)\nplt.xlabel("X")\nplt.ylabel("Y")\nplt.title("Données avec incertitude")\nplt.show()', desc: 'Barres d\'erreur' },
                                { code: '# Erreur asymétrique\nyerr_asym = [[0.3, 0.2, 0.4, 0.3, 0.2], [0.5, 0.4, 0.3, 0.6, 0.3]]\nplt.errorbar(x, y, yerr=yerr_asym, fmt="s", capsize=3)\nplt.show()', desc: 'Erreur asymétrique' }
                            ],
                            tips: ['capsize contrôle la largeur des "T"', 'yerr peut être asymétrique: [lower, upper]'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Aires empilées (stackplot)',
                        desc: 'plt.stackplot() évolution de compositions',
                        details: {
                            explanation: 'Montre l\'évolution de la composition d\'un total au fil du temps.',
                            syntax: 'plt.stackplot(x, y1, y2, y3, labels=names)',
                            options: [
                                { flag: 'labels', desc: 'Noms des séries' },
                                { flag: 'colors', desc: 'Couleurs des aires' },
                                { flag: 'alpha', desc: 'Transparence' },
                                { flag: 'baseline', desc: '"zero", "sym", "wiggle"' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\n\nx = [1, 2, 3, 4, 5]\ny1 = [1, 2, 3, 4, 5]\ny2 = [2, 3, 4, 3, 2]\ny3 = [3, 2, 1, 2, 3]\n\nplt.stackplot(x, y1, y2, y3, labels=["A", "B", "C"])\nplt.legend(loc="upper left")\nplt.xlabel("Année")\nplt.ylabel("Valeur")\nplt.title("Aires empilées")\nplt.show()', desc: 'Stackplot basique' },
                                { code: '# Proportion (100%)\nimport numpy as np\ntotal = np.array(y1) + np.array(y2) + np.array(y3)\nplt.stackplot(x, y1/total*100, y2/total*100, y3/total*100, labels=["A", "B", "C"])\nplt.ylabel("Pourcentage")\nplt.show()', desc: 'En pourcentages' }
                            ],
                            tips: ['Parfait pour les parts de marché dans le temps', 'Normalisez pour voir les proportions'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Lignes horizontales/verticales',
                        desc: 'axhline(), axvline(), axhspan() références',
                        details: {
                            explanation: 'Ajoute des lignes ou zones de référence sur toute la largeur/hauteur.',
                            syntax: 'plt.axhline(y, color, linestyle)\nplt.axvline(x)\nplt.axhspan(ymin, ymax)',
                            options: [
                                { flag: 'color', desc: 'Couleur de la ligne' },
                                { flag: 'linestyle', desc: 'Style de ligne' },
                                { flag: 'alpha', desc: 'Transparence' },
                                { flag: 'label', desc: 'Pour la légende' }
                            ],
                            examples: [
                                { code: 'plt.plot(x, y)\n\n# Ligne horizontale (moyenne)\nplt.axhline(y=np.mean(y), color="red", linestyle="--", label="Moyenne")\n\n# Ligne verticale\nplt.axvline(x=5, color="green", linestyle=":", label="Seuil")\n\nplt.legend()\nplt.show()', desc: 'Lignes de référence' },
                                { code: '# Zone colorée\nplt.plot(x, y)\nplt.axhspan(0, 1, alpha=0.2, color="red", label="Zone danger")\nplt.axhspan(1, 2, alpha=0.2, color="yellow", label="Zone attention")\nplt.axhspan(2, 3, alpha=0.2, color="green", label="Zone OK")\nplt.legend()\nplt.show()', desc: 'Zones colorées' }
                            ],
                            tips: ['axhspan/axvspan pour des zones', 'Utile pour les seuils et moyennes'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Afficher une image',
                        desc: 'plt.imshow() matrices et images',
                        details: {
                            explanation: 'Affiche une matrice ou image 2D avec une colormap.',
                            syntax: 'plt.imshow(data, cmap="viridis", aspect="auto")',
                            options: [
                                { flag: 'cmap', desc: 'Palette de couleurs' },
                                { flag: 'aspect', desc: '"auto", "equal", ou ratio' },
                                { flag: 'vmin, vmax', desc: 'Limites de couleur' },
                                { flag: 'interpolation', desc: '"nearest", "bilinear", etc.' },
                                { flag: 'origin', desc: '"upper" ou "lower"' }
                            ],
                            examples: [
                                { code: 'import matplotlib.pyplot as plt\nimport numpy as np\n\n# Matrice aléatoire\ndata = np.random.rand(10, 10)\n\nplt.imshow(data, cmap="viridis")\nplt.colorbar(label="Valeur")\nplt.title("Matrice")\nplt.show()', desc: 'Matrice simple' },
                                { code: '# Image réelle\nfrom PIL import Image\n\nimg = Image.open("photo.jpg")\nplt.imshow(img)\nplt.axis("off")\nplt.show()', desc: 'Image' },
                                { code: '# Grille de valeurs\nplt.imshow(data, cmap="coolwarm", aspect="auto", interpolation="nearest")\nplt.colorbar()\nplt.show()', desc: 'Heatmap style' }
                            ],
                            tips: ['plt.colorbar() pour l\'échelle de couleurs', 'aspect="auto" pour les matrices non carrées'],
                            warnings: []
                        }
                    }
                ]
            },
            {
                id: 'plotly',
                title: 'Graphiques Interactifs (Plotly)',
                icon: 'fa-hand-pointer',
                color: 'border-l-4 border-indigo-500',
                commands: [
                    {
                        cmd: 'Graphique interactif de base',
                        desc: 'px.scatter(), px.line() avec zoom et hover',
                        details: {
                            explanation: 'Plotly Express crée des graphiques interactifs avec zoom, pan et tooltips automatiques.',
                            syntax: 'import plotly.express as px\nfig = px.scatter(df, x, y)\nfig.show()',
                            options: [
                                { flag: 'x, y', desc: 'Colonnes pour les axes' },
                                { flag: 'color', desc: 'Colonne pour la couleur' },
                                { flag: 'size', desc: 'Colonne pour la taille' },
                                { flag: 'hover_data', desc: 'Colonnes supplémentaires au survol' },
                                { flag: 'title', desc: 'Titre du graphique' }
                            ],
                            examples: [
                                { code: 'import plotly.express as px\n\n# Scatter interactif\nfig = px.scatter(df, x="col1", y="col2", color="categorie", hover_data=["info"])\nfig.show()', desc: 'Scatter interactif' },
                                { code: '# Ligne avec plusieurs séries\nfig = px.line(df, x="date", y="valeur", color="groupe", title="Évolution")\nfig.show()', desc: 'Lignes par groupe' },
                                { code: '# Avec taille variable\nfig = px.scatter(df, x="x", y="y", size="population", color="continent", hover_name="pays")\nfig.show()', desc: 'Bubble chart' }
                            ],
                            tips: ['Zoom avec molette, double-clic pour reset', 'hover_name pour le titre du tooltip'],
                            warnings: ['pip install plotly requis']
                        }
                    },
                    {
                        cmd: 'Histogramme/Barres interactives',
                        desc: 'px.histogram(), px.bar() avec filtres',
                        details: {
                            explanation: 'Histogrammes et barres interactifs avec possibilité de filtrer par clic sur la légende.',
                            syntax: 'px.histogram(df, x, color)\npx.bar(df, x, y, color)',
                            options: [
                                { flag: 'nbins', desc: 'Nombre de bins (histogram)' },
                                { flag: 'barmode', desc: '"group", "overlay", "stack"' },
                                { flag: 'text_auto', desc: 'Afficher les valeurs' },
                                { flag: 'color_discrete_sequence', desc: 'Palette de couleurs' }
                            ],
                            examples: [
                                { code: 'import plotly.express as px\n\n# Histogramme interactif\nfig = px.histogram(df, x="valeur", color="groupe", barmode="overlay", opacity=0.7, nbins=30)\nfig.show()', desc: 'Histogramme' },
                                { code: '# Barres groupées\nfig = px.bar(df, x="categorie", y="ventes", color="annee", barmode="group", text_auto=True)\nfig.show()', desc: 'Barres groupées' },
                                { code: '# Barres empilées\nfig = px.bar(df, x="mois", y="ventes", color="produit", title="Ventes mensuelles")\nfig.show()', desc: 'Barres empilées' }
                            ],
                            tips: ['Cliquez sur la légende pour masquer/afficher', 'text_auto affiche les valeurs sur les barres'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Boxplot/Violin interactif',
                        desc: 'px.box(), px.violin() avec détails au survol',
                        details: {
                            explanation: 'Boxplots et violins interactifs montrant les statistiques au survol.',
                            syntax: 'px.box(df, x, y, color)\npx.violin(df, x, y)',
                            options: [
                                { flag: 'points', desc: '"all", "outliers", False' },
                                { flag: 'box', desc: 'Afficher le box dans violin' },
                                { flag: 'notched', desc: 'Boxplot avec notches' },
                                { flag: 'hover_data', desc: 'Infos supplémentaires' }
                            ],
                            examples: [
                                { code: 'import plotly.express as px\n\n# Boxplot interactif\nfig = px.box(df, x="categorie", y="valeur", color="groupe", points="all")\nfig.show()', desc: 'Boxplot avec points' },
                                { code: '# Violin interactif\nfig = px.violin(df, x="categorie", y="score", color="type", box=True, points="outliers")\nfig.show()', desc: 'Violin avec box' }
                            ],
                            tips: ['points="all" montre tous les points', 'Survol pour voir les statistiques exactes'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Personnaliser avec update_*',
                        desc: 'fig.update_layout(), update_traces() style',
                        details: {
                            explanation: 'Modifie l\'apparence et le comportement des graphiques Plotly après création.',
                            syntax: 'fig.update_layout(title, xaxis_title, yaxis_title)\nfig.update_traces(marker_size)',
                            options: [
                                { flag: 'title', desc: 'Titre du graphique' },
                                { flag: 'xaxis_title', desc: 'Titre axe X' },
                                { flag: 'yaxis_title', desc: 'Titre axe Y' },
                                { flag: 'template', desc: '"plotly_dark", "seaborn", etc.' },
                                { flag: 'legend', desc: 'Configuration légende' }
                            ],
                            examples: [
                                { code: 'import plotly.express as px\n\nfig = px.scatter(df, x="x", y="y")\n\nfig.update_layout(\n    title="Mon graphique",\n    xaxis_title="Variable X",\n    yaxis_title="Variable Y",\n    template="plotly_white",\n    legend=dict(orientation="h", y=-0.2)\n)\n\nfig.show()', desc: 'Personnalisation layout' },
                                { code: '# Modifier les traces\nfig.update_traces(\n    marker=dict(size=12, line=dict(width=2, color="white")),\n    selector=dict(mode="markers")\n)\nfig.show()', desc: 'Personnaliser les points' },
                                { code: '# Thème sombre\nfig.update_layout(template="plotly_dark")\nfig.show()', desc: 'Thème sombre' }
                            ],
                            tips: ['template change le thème global', 'selector pour cibler des traces spécifiques'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Animation',
                        desc: 'animation_frame pour graphiques animés',
                        details: {
                            explanation: 'Crée des animations en faisant varier une dimension (temps, catégorie).',
                            syntax: 'px.scatter(df, x, y, animation_frame="annee")',
                            options: [
                                { flag: 'animation_frame', desc: 'Colonne pour l\'animation' },
                                { flag: 'animation_group', desc: 'Identifiant des éléments' },
                                { flag: 'range_x, range_y', desc: 'Fixer les axes' }
                            ],
                            examples: [
                                { code: 'import plotly.express as px\n\n# Animation temporelle\nfig = px.scatter(df, x="gdp", y="life_exp", size="population", color="continent",\n    animation_frame="year", animation_group="country",\n    hover_name="country",\n    range_x=[0, 50000], range_y=[25, 90],\n    title="Évolution mondiale")\nfig.show()', desc: 'Animation Gapminder' },
                                { code: '# Barres animées\nfig = px.bar(df, x="categorie", y="valeur", color="groupe",\n    animation_frame="mois",\n    range_y=[0, df["valeur"].max() * 1.1])\nfig.show()', desc: 'Barres animées' }
                            ],
                            tips: ['Fixez range_x et range_y pour éviter le changement d\'échelle', 'animation_group identifie les éléments entre frames'],
                            warnings: ['Peut être lent avec beaucoup de données']
                        }
                    }
                ]
            }
        ];
    </script>
    <script src="../js/cheatsheet.js"></script>
</body>
</html>
