<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Aide-m√©moire React : workflows pratiques pour cr√©er des composants, g√©rer l'√©tat, appeler des API et optimiser les performances.">
    <title>React - IT Cheatsheets</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body class="dark-theme text-slate-200">

    <header class="bg-slate-900/50 border-b border-white/5 py-8 px-4 relative overflow-hidden header-glow">
        <div class="max-w-4xl mx-auto relative z-10">
            <div class="flex items-center justify-between mb-4">
                <a href="../index.html" class="nav-back inline-flex items-center text-slate-400 hover:text-sky-400 transition">
                    <i class="fas fa-arrow-left mr-2"></i>Retour
                </a>
                <a href="../index.html" class="inline-flex items-center text-slate-400 hover:text-sky-400 transition">
                    <i class="fas fa-home mr-2"></i>Accueil
                </a>
            </div>
            <div class="text-center">
                <div class="inline-flex items-center justify-center w-16 h-16 rounded-xl bg-cyan-500/20 mb-4 icon-glow">
                    <i class="fab fa-react text-3xl text-cyan-400"></i>
                </div>
                <h1 class="text-3xl font-bold mb-2 gradient-text">React</h1>
                <p class="text-slate-400">Workflows pratiques pour d√©velopper avec React</p>
            </div>
        </div>
    </header>

    <main class="max-w-4xl mx-auto p-4 relative z-10">
        <div class="mb-8 relative">
            <input type="text" id="searchInput" placeholder="Rechercher un workflow..."
                   class="search-dark w-full p-4 pl-12 rounded-lg outline-none transition">
            <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-500"></i>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="categoriesGrid"></div>
    </main>

    <div id="detailModal" class="fixed inset-0 bg-black/70 hidden items-center justify-center z-50 p-4 modal-overlay" onclick="closeModal(event)">
        <div class="modal-content-dark rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl modal-content" onclick="event.stopPropagation()">
            <div id="modalContent"></div>
        </div>
    </div>

    <footer class="border-t border-white/5 text-center text-slate-500 py-8 text-sm relative z-10">
        <p>¬© 2026 - Dr FENOHASINA Toto Jean Felicien</p>
    </footer>

    <script>
        const cheatsheetData = [
            {
                id: 'start-project',
                title: 'üöÄ D√©marrer un Projet React',
                icon: 'fa-rocket',
                color: 'border-l-4 border-cyan-500',
                commands: [
                    {
                        cmd: 'Cr√©er un projet avec Vite',
                        desc: 'Setup rapide et moderne',
                        details: {
                            explanation: 'Vite est le bundler recommand√© pour les nouveaux projets React (plus rapide que CRA).',
                            syntax: 'npm create vite@latest project-name -- --template react',
                            options: [
                                { flag: '--template react', desc: 'Template React JavaScript' },
                                { flag: '--template react-ts', desc: 'Template React TypeScript' }
                            ],
                            examples: [
                                { code: 'npm create vite@latest my-app -- --template react\ncd my-app\nnpm install\nnpm run dev', desc: 'Projet React JS' },
                                { code: 'npm create vite@latest my-app -- --template react-ts', desc: 'Projet React TypeScript' }
                            ],
                            tips: ['Vite est beaucoup plus rapide que Create React App'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Structure de projet recommand√©e',
                        desc: 'Organisation des fichiers',
                        details: {
                            explanation: 'Une bonne structure facilite la maintenance et la scalabilit√©.',
                            syntax: 'src/ avec composants, hooks, context, services',
                            options: [],
                            examples: [
                                { code: 'src/\n  components/       # Composants r√©utilisables\n    Button/\n      Button.jsx\n      Button.css\n  features/         # Fonctionnalit√©s m√©tier\n    users/\n      UserList.jsx\n      UserCard.jsx\n  hooks/            # Custom hooks\n    useLocalStorage.js\n    useDebounce.js\n  context/          # Contextes React\n    AuthContext.jsx\n  services/         # Appels API\n    api.js\n    userService.js\n  utils/            # Utilitaires\n  App.jsx\n  main.jsx', desc: 'Structure type' }
                            ],
                            tips: ['Groupez par fonctionnalit√© plut√¥t que par type de fichier'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Configurer les outils de d√©veloppement',
                        desc: 'ESLint, Prettier, extensions',
                        details: {
                            explanation: 'Configuration des outils pour une meilleure exp√©rience de d√©veloppement.',
                            syntax: 'npm install + config files',
                            options: [],
                            examples: [
                                { code: '// Installation ESLint + Prettier\nnpm install -D eslint prettier eslint-config-prettier\n\n// .prettierrc\n{\n  "semi": false,\n  "singleQuote": true,\n  "tabWidth": 2\n}', desc: 'Config Prettier' },
                                { code: '// Extensions VS Code recommand√©es\n// - ES7+ React/Redux/React-Native snippets\n// - Prettier - Code formatter\n// - ESLint\n// - Auto Import', desc: 'Extensions VS Code' }
                            ],
                            tips: ['Activez "Format on Save" dans VS Code'],
                            warnings: []
                        }
                    }
                ]
            },
            {
                id: 'components',
                title: 'üß© Cr√©er des Composants',
                icon: 'fa-cubes',
                color: 'border-l-4 border-blue-500',
                commands: [
                    {
                        cmd: 'Cr√©er un composant fonctionnel',
                        desc: 'Structure de base',
                        details: {
                            explanation: 'Les composants fonctionnels sont le standard moderne en React.',
                            syntax: 'function Component(props) { return <JSX /> }',
                            options: [
                                { flag: 'function', desc: 'D√©claration de fonction' },
                                { flag: 'const =', desc: 'Expression de fonction (arrow)' },
                                { flag: 'export default', desc: 'Export par d√©faut' }
                            ],
                            examples: [
                                { code: '// D√©claration de fonction\nfunction Greeting({ name }) {\n  return <h1>Bonjour {name}!</h1>\n}\n\nexport default Greeting', desc: 'Style fonction' },
                                { code: '// Arrow function\nconst Greeting = ({ name }) => {\n  return <h1>Bonjour {name}!</h1>\n}\n\nexport default Greeting', desc: 'Style arrow' },
                                { code: '// Export inline\nexport function Button({ children, onClick }) {\n  return (\n    <button onClick={onClick}>\n      {children}\n    </button>\n  )\n}', desc: 'Export inline' }
                            ],
                            tips: ['Pr√©f√©rez les composants fonctionnels aux classes'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Passer des props aux composants',
                        desc: 'Communication parent ‚Üí enfant',
                        details: {
                            explanation: 'Les props permettent de passer des donn√©es et des callbacks aux composants enfants.',
                            syntax: '<Component prop={value} />',
                            options: [
                                { flag: 'prop={value}', desc: 'Passer une valeur' },
                                { flag: 'prop="string"', desc: 'Passer une cha√Æne' },
                                { flag: '{...props}', desc: 'Spread des props' }
                            ],
                            examples: [
                                { code: '// D√©finir les props\nfunction UserCard({ name, email, isAdmin = false }) {\n  return (\n    <div>\n      <h2>{name}</h2>\n      <p>{email}</p>\n      {isAdmin && <span>Admin</span>}\n    </div>\n  )\n}\n\n// Utilisation\n<UserCard \n  name="Alice" \n  email="alice@example.com" \n  isAdmin={true} \n/>', desc: 'Props basiques' },
                                { code: '// Callback en prop\nfunction Button({ onClick, children }) {\n  return <button onClick={onClick}>{children}</button>\n}\n\n// Parent\n<Button onClick={() => console.log("Clicked!")}>\n  Cliquez-moi\n</Button>', desc: 'Callback prop' }
                            ],
                            tips: ['Utilisez la d√©structuration pour les props'],
                            warnings: ['Les props sont en lecture seule']
                        }
                    },
                    {
                        cmd: 'Utiliser children et slots',
                        desc: 'Composition de composants',
                        details: {
                            explanation: 'children permet d\'injecter du contenu dans un composant.',
                            syntax: 'props.children ou { children }',
                            options: [
                                { flag: 'children', desc: 'Contenu entre les balises' },
                                { flag: 'render props', desc: 'Fonction comme prop' },
                                { flag: 'slots nomm√©s', desc: 'Props comme slots' }
                            ],
                            examples: [
                                { code: '// Avec children\nfunction Card({ title, children }) {\n  return (\n    <div className="card">\n      <h2>{title}</h2>\n      <div className="card-body">\n        {children}\n      </div>\n    </div>\n  )\n}\n\n// Utilisation\n<Card title="Mon titre">\n  <p>Contenu de la carte</p>\n  <button>Action</button>\n</Card>', desc: 'Pattern children' },
                                { code: '// Slots nomm√©s\nfunction Layout({ header, sidebar, children }) {\n  return (\n    <div className="layout">\n      <header>{header}</header>\n      <aside>{sidebar}</aside>\n      <main>{children}</main>\n    </div>\n  )\n}\n\n<Layout \n  header={<NavBar />}\n  sidebar={<Menu />}\n>\n  <Content />\n</Layout>', desc: 'Pattern slots' }
                            ],
                            tips: ['children est le pattern de composition le plus courant'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Rendu conditionnel et listes',
                        desc: 'Affichage dynamique',
                        details: {
                            explanation: 'Techniques pour afficher conditionnellement du contenu ou des listes.',
                            syntax: '{condition && <JSX />}\n{list.map(item => <JSX key={item.id} />)}',
                            options: [
                                { flag: '&&', desc: 'Affiche si vrai' },
                                { flag: 'ternaire ? :', desc: 'Si/sinon' },
                                { flag: 'map()', desc: 'Boucle sur un tableau' }
                            ],
                            examples: [
                                { code: '// Condition avec &&\n{isLoggedIn && <LogoutButton />}\n\n// Ternaire\n{isLoggedIn ? <Dashboard /> : <LoginForm />}\n\n// Early return\nif (!user) return <Loading />\nreturn <Profile user={user} />', desc: 'Rendu conditionnel' },
                                { code: '// Liste avec map\n{users.map(user => (\n  <UserCard \n    key={user.id} \n    name={user.name} \n    email={user.email}\n  />\n))}\n\n// Liste vide\n{items.length === 0 \n  ? <p>Aucun √©l√©ment</p>\n  : items.map(item => <Item key={item.id} {...item} />)\n}', desc: 'Rendu de listes' }
                            ],
                            tips: ['Utilisez toujours une cl√© unique avec map()'],
                            warnings: ['key doit √™tre stable et unique (pas d\'index si l\'ordre peut changer)']
                        }
                    }
                ]
            },
            {
                id: 'local-state',
                title: 'üîÑ G√©rer l\'√âtat Local',
                icon: 'fa-database',
                color: 'border-l-4 border-purple-500',
                commands: [
                    {
                        cmd: 'Cr√©er un √©tat avec useState',
                        desc: '√âtat simple dans un composant',
                        details: {
                            explanation: 'useState cr√©e une variable d\'√©tat et une fonction pour la mettre √† jour.',
                            syntax: 'const [state, setState] = useState(initialValue)',
                            options: [
                                { flag: 'initialValue', desc: 'Valeur initiale' },
                                { flag: 'state', desc: 'Valeur actuelle' },
                                { flag: 'setState', desc: 'Fonction de mise √† jour' }
                            ],
                            examples: [
                                { code: 'const [count, setCount] = useState(0)\nconst [user, setUser] = useState(null)\nconst [items, setItems] = useState([])', desc: 'D√©clarations' },
                                { code: '// Mise √† jour simple\nsetCount(10)\n\n// Mise √† jour bas√©e sur la valeur pr√©c√©dente\nsetCount(prev => prev + 1)\n\n// Mise √† jour d\'objet (spread)\nsetUser(prev => ({ ...prev, name: "Alice" }))\n\n// Ajout √† un tableau\nsetItems(prev => [...prev, newItem])', desc: 'Mises √† jour' }
                            ],
                            tips: ['Utilisez la forme fonction (prev => ...) pour les mises √† jour bas√©es sur l\'√©tat pr√©c√©dent'],
                            warnings: ['Ne modifiez jamais l\'√©tat directement (state = ... est interdit)']
                        }
                    },
                    {
                        cmd: 'G√©rer un √©tat complexe avec useReducer',
                        desc: 'Alternative √† useState pour logique complexe',
                        details: {
                            explanation: 'useReducer est pr√©f√©rable quand l\'√©tat a plusieurs sous-valeurs li√©es.',
                            syntax: 'const [state, dispatch] = useReducer(reducer, initialState)',
                            options: [
                                { flag: 'reducer', desc: 'Fonction (state, action) => newState' },
                                { flag: 'dispatch', desc: 'Fonction pour envoyer des actions' }
                            ],
                            examples: [
                                { code: '// D√©finir le reducer\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case "increment":\n      return { ...state, count: state.count + 1 }\n    case "decrement":\n      return { ...state, count: state.count - 1 }\n    case "reset":\n      return { ...state, count: 0 }\n    default:\n      return state\n  }\n}\n\n// Utilisation\nconst [state, dispatch] = useReducer(reducer, { count: 0 })\n\n<button onClick={() => dispatch({ type: "increment" })}>\n  Count: {state.count}\n</button>', desc: 'Reducer basique' },
                                { code: '// Avec payload\ncase "setUser":\n  return { ...state, user: action.payload }\n\ndispatch({ type: "setUser", payload: userData })', desc: 'Action avec payload' }
                            ],
                            tips: ['Pr√©f√©rez useReducer quand vous avez plusieurs actions li√©es'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Cr√©er un formulaire contr√¥l√©',
                        desc: 'G√©rer les inputs avec l\'√©tat',
                        details: {
                            explanation: 'Dans un formulaire contr√¥l√©, React g√®re la valeur des inputs.',
                            syntax: 'value={state} onChange={e => setState(e.target.value)}',
                            options: [
                                { flag: 'value', desc: 'Valeur contr√¥l√©e' },
                                { flag: 'onChange', desc: 'Handler de changement' },
                                { flag: 'e.target.value', desc: 'Nouvelle valeur' }
                            ],
                            examples: [
                                { code: 'function LoginForm() {\n  const [email, setEmail] = useState("")\n  const [password, setPassword] = useState("")\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(email, password)\n  }\n  \n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type="email"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        placeholder="Email"\n      />\n      <input\n        type="password"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        placeholder="Mot de passe"\n      />\n      <button type="submit">Connexion</button>\n    </form>\n  )\n}', desc: 'Formulaire simple' },
                                { code: '// Formulaire avec un seul √©tat objet\nconst [form, setForm] = useState({\n  name: "",\n  email: "",\n  message: ""\n})\n\nconst handleChange = (e) => {\n  const { name, value } = e.target\n  setForm(prev => ({ ...prev, [name]: value }))\n}\n\n<input name="name" value={form.name} onChange={handleChange} />\n<input name="email" value={form.email} onChange={handleChange} />', desc: 'Formulaire avec objet' }
                            ],
                            tips: ['Utilisez e.preventDefault() pour √©viter le rechargement de page'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Utiliser une ref pour acc√©der au DOM',
                        desc: 'R√©f√©rences avec useRef',
                        details: {
                            explanation: 'useRef cr√©e une r√©f√©rence mutable qui persiste entre les rendus.',
                            syntax: 'const ref = useRef(null)',
                            options: [
                                { flag: 'ref.current', desc: 'Acc√®de √† l\'√©l√©ment DOM' },
                                { flag: 'useRef(value)', desc: 'Valeur qui persiste sans re-render' }
                            ],
                            examples: [
                                { code: '// Acc√©der √† un √©l√©ment DOM\nfunction TextInput() {\n  const inputRef = useRef(null)\n  \n  const focusInput = () => {\n    inputRef.current.focus()\n  }\n  \n  return (\n    <>\n      <input ref={inputRef} />\n      <button onClick={focusInput}>Focus</button>\n    </>\n  )\n}', desc: 'Ref sur input' },
                                { code: '// Stocker une valeur sans re-render\nconst countRef = useRef(0)\n\nconst handleClick = () => {\n  countRef.current++ // Ne d√©clenche PAS de re-render\n  console.log(countRef.current)\n}', desc: 'Valeur persistante' },
                                { code: '// Garder la valeur pr√©c√©dente\nconst prevValueRef = useRef()\n\nuseEffect(() => {\n  prevValueRef.current = value\n}, [value])', desc: 'Previous value' }
                            ],
                            tips: ['Id√©al pour acc√©der au DOM ou stocker des valeurs sans re-render'],
                            warnings: ['Modifier ref.current ne d√©clenche PAS de re-render']
                        }
                    }
                ]
            },
            {
                id: 'global-state',
                title: 'üåç Partager l\'√âtat Global',
                icon: 'fa-share-alt',
                color: 'border-l-4 border-orange-500',
                commands: [
                    {
                        cmd: 'Cr√©er un Context',
                        desc: 'Partager des donn√©es sans prop drilling',
                        details: {
                            explanation: 'Context permet de passer des donn√©es √† travers l\'arbre de composants sans props.',
                            syntax: 'createContext() + Provider + useContext()',
                            options: [
                                { flag: 'createContext()', desc: 'Cr√©er le contexte' },
                                { flag: 'Provider', desc: 'Fournir la valeur' },
                                { flag: 'useContext()', desc: 'Consommer la valeur' }
                            ],
                            examples: [
                                { code: '// 1. Cr√©er le contexte\nconst ThemeContext = createContext("light")\n\n// 2. Cr√©er le Provider\nfunction ThemeProvider({ children }) {\n  const [theme, setTheme] = useState("light")\n  \n  const toggleTheme = () => {\n    setTheme(prev => prev === "light" ? "dark" : "light")\n  }\n  \n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  )\n}\n\n// 3. Hook personnalis√© pour consommer\nfunction useTheme() {\n  const context = useContext(ThemeContext)\n  if (!context) {\n    throw new Error("useTheme must be within ThemeProvider")\n  }\n  return context\n}', desc: 'Context complet' },
                                { code: '// Utilisation dans l\'app\n<ThemeProvider>\n  <App />\n</ThemeProvider>\n\n// Dans un composant\nfunction Header() {\n  const { theme, toggleTheme } = useTheme()\n  return (\n    <header className={theme}>\n      <button onClick={toggleTheme}>Toggle</button>\n    </header>\n  )\n}', desc: 'Usage' }
                            ],
                            tips: ['Cr√©ez un hook personnalis√© (useXxx) pour chaque contexte'],
                            warnings: ['Tous les consommateurs re-render quand la valeur change']
                        }
                    },
                    {
                        cmd: 'Context avec useReducer',
                        desc: '√âtat global complexe',
                        details: {
                            explanation: 'Combinez Context et useReducer pour un state management l√©ger.',
                            syntax: 'createContext + useReducer + Provider',
                            options: [],
                            examples: [
                                { code: '// context/AuthContext.jsx\nconst AuthContext = createContext(null)\n\nconst initialState = {\n  user: null,\n  isAuthenticated: false,\n  loading: true\n}\n\nfunction authReducer(state, action) {\n  switch (action.type) {\n    case "LOGIN":\n      return {\n        ...state,\n        user: action.payload,\n        isAuthenticated: true,\n        loading: false\n      }\n    case "LOGOUT":\n      return {\n        ...state,\n        user: null,\n        isAuthenticated: false,\n        loading: false\n      }\n    case "SET_LOADING":\n      return { ...state, loading: action.payload }\n    default:\n      return state\n  }\n}\n\nexport function AuthProvider({ children }) {\n  const [state, dispatch] = useReducer(authReducer, initialState)\n  \n  const login = (userData) => {\n    dispatch({ type: "LOGIN", payload: userData })\n  }\n  \n  const logout = () => {\n    dispatch({ type: "LOGOUT" })\n  }\n  \n  return (\n    <AuthContext.Provider value={{ ...state, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (!context) throw new Error("useAuth must be within AuthProvider")\n  return context\n}', desc: 'AuthContext complet' }
                            ],
                            tips: ['Exposez des actions (login, logout) plut√¥t que dispatch'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Optimiser les re-renders du Context',
                        desc: '√âviter les re-renders inutiles',
                        details: {
                            explanation: 'Techniques pour limiter les re-renders caus√©s par Context.',
                            syntax: 'useMemo, split contexts',
                            options: [],
                            examples: [
                                { code: '// M√©moriser la valeur du contexte\nfunction Provider({ children }) {\n  const [state, setState] = useState(initialState)\n  \n  // M√©moriser pour √©viter un nouvel objet √† chaque render\n  const value = useMemo(() => ({\n    state,\n    setState\n  }), [state])\n  \n  return (\n    <MyContext.Provider value={value}>\n      {children}\n    </MyContext.Provider>\n  )\n}', desc: 'useMemo sur value' },
                                { code: '// S√©parer state et dispatch en 2 contextes\nconst StateContext = createContext(null)\nconst DispatchContext = createContext(null)\n\nfunction Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, initialState)\n  \n  return (\n    <DispatchContext.Provider value={dispatch}>\n      <StateContext.Provider value={state}>\n        {children}\n      </StateContext.Provider>\n    </DispatchContext.Provider>\n  )\n}\n\n// Les composants qui ne lisent que state ne re-render pas\n// quand dispatch est appel√©', desc: 'Split contexts' }
                            ],
                            tips: ['S√©parez les contextes state/dispatch pour les grosses apps'],
                            warnings: []
                        }
                    }
                ]
            },
            {
                id: 'effects',
                title: '‚ö° G√©rer les Effets et le Cycle de Vie',
                icon: 'fa-bolt',
                color: 'border-l-4 border-yellow-500',
                commands: [
                    {
                        cmd: 'Ex√©cuter du code apr√®s le rendu',
                        desc: 'useEffect pour les effets secondaires',
                        details: {
                            explanation: 'useEffect ex√©cute du code apr√®s le rendu, comme les appels API ou les subscriptions.',
                            syntax: 'useEffect(callback, dependencies)',
                            options: [
                                { flag: '[]', desc: 'Ex√©cute une seule fois (au montage)' },
                                { flag: '[dep1, dep2]', desc: 'Ex√©cute quand une d√©pendance change' },
                                { flag: 'sans tableau', desc: 'Ex√©cute √† chaque rendu (rare)' }
                            ],
                            examples: [
                                { code: '// Au montage uniquement\nuseEffect(() => {\n  console.log("Composant mont√©")\n}, [])', desc: 'Montage seul' },
                                { code: '// Quand userId change\nuseEffect(() => {\n  fetchUser(userId)\n}, [userId])', desc: 'Avec d√©pendance' },
                                { code: '// Avec fonction de nettoyage\nuseEffect(() => {\n  const subscription = subscribeToEvents()\n  \n  // Cleanup au d√©montage ou avant r√©-ex√©cution\n  return () => {\n    subscription.unsubscribe()\n  }\n}, [])', desc: 'Avec cleanup' }
                            ],
                            tips: ['Retournez une fonction pour nettoyer (timers, subscriptions)'],
                            warnings: ['Attention aux boucles infinies si d√©pendances mal d√©finies']
                        }
                    },
                    {
                        cmd: 'Nettoyer les effets correctement',
                        desc: '√âviter les fuites m√©moire',
                        details: {
                            explanation: 'Le cleanup est essentiel pour √©viter les mises √† jour sur des composants d√©mont√©s.',
                            syntax: 'return () => { /* cleanup */ }',
                            options: [],
                            examples: [
                                { code: '// Timer\nuseEffect(() => {\n  const timer = setInterval(() => {\n    setCount(c => c + 1)\n  }, 1000)\n  \n  return () => clearInterval(timer)\n}, [])', desc: 'Cleanup timer' },
                                { code: '// Event listener\nuseEffect(() => {\n  const handleResize = () => setWidth(window.innerWidth)\n  window.addEventListener("resize", handleResize)\n  \n  return () => window.removeEventListener("resize", handleResize)\n}, [])', desc: 'Cleanup event listener' },
                                { code: '// Abort controller pour fetch\nuseEffect(() => {\n  const controller = new AbortController()\n  \n  fetch(url, { signal: controller.signal })\n    .then(res => res.json())\n    .then(data => setData(data))\n    .catch(err => {\n      if (err.name !== "AbortError") {\n        setError(err.message)\n      }\n    })\n  \n  return () => controller.abort()\n}, [url])', desc: 'Abort fetch' }
                            ],
                            tips: ['Utilisez AbortController pour annuler les fetch en cours'],
                            warnings: ['Le cleanup s\'ex√©cute AVANT chaque r√©-ex√©cution de l\'effet']
                        }
                    },
                    {
                        cmd: 'Ex√©cuter avant le rendu (useLayoutEffect)',
                        desc: 'Effet synchrone avant peinture',
                        details: {
                            explanation: 'useLayoutEffect s\'ex√©cute de mani√®re synchrone apr√®s les mutations DOM, avant le rendu visuel.',
                            syntax: 'useLayoutEffect(callback, dependencies)',
                            options: [],
                            examples: [
                                { code: '// Mesurer un √©l√©ment avant affichage\nuseLayoutEffect(() => {\n  const rect = ref.current.getBoundingClientRect()\n  setPosition({ top: rect.top, left: rect.left })\n}, [])', desc: 'Mesure DOM' },
                                { code: '// √âviter un flash visuel\nuseLayoutEffect(() => {\n  // Ajuster le scroll avant que l\'utilisateur voie\n  window.scrollTo(0, savedScrollPosition)\n}, [])', desc: 'Scroll sync' }
                            ],
                            tips: ['Utilisez-le pour les mesures DOM ou √©viter les flashs visuels'],
                            warnings: ['Peut bloquer le rendu visuel, pr√©f√©rez useEffect par d√©faut']
                        }
                    }
                ]
            },
            {
                id: 'api-calls',
                title: 'üì° Appeler une API',
                icon: 'fa-cloud',
                color: 'border-l-4 border-green-500',
                commands: [
                    {
                        cmd: 'Fetch basique avec useEffect',
                        desc: 'Appel API simple',
                        details: {
                            explanation: 'Pattern de base pour charger des donn√©es depuis une API.',
                            syntax: 'useEffect + fetch + useState',
                            options: [],
                            examples: [
                                { code: 'function UserList() {\n  const [users, setUsers] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  \n  useEffect(() => {\n    let cancelled = false\n    \n    fetch("/api/users")\n      .then(res => {\n        if (!res.ok) throw new Error("Erreur r√©seau")\n        return res.json()\n      })\n      .then(data => {\n        if (!cancelled) {\n          setUsers(data)\n          setLoading(false)\n        }\n      })\n      .catch(err => {\n        if (!cancelled) {\n          setError(err.message)\n          setLoading(false)\n        }\n      })\n    \n    return () => { cancelled = true }\n  }, [])\n  \n  if (loading) return <Spinner />\n  if (error) return <p>Erreur: {error}</p>\n  return <ul>{users.map(u => <li key={u.id}>{u.name}</li>)}</ul>\n}', desc: 'Fetch complet' }
                            ],
                            tips: ['Utilisez cancelled pour √©viter les updates sur composants d√©mont√©s'],
                            warnings: ['Pour les apps complexes, pr√©f√©rez React Query ou SWR']
                        }
                    },
                    {
                        cmd: 'Cr√©er un hook useFetch personnalis√©',
                        desc: 'R√©utiliser la logique de fetch',
                        details: {
                            explanation: 'Encapsule la logique loading/error/data dans un hook r√©utilisable.',
                            syntax: 'function useFetch(url) { ... return { data, loading, error } }',
                            options: [],
                            examples: [
                                { code: '// hooks/useFetch.js\nfunction useFetch(url) {\n  const [data, setData] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  \n  useEffect(() => {\n    let cancelled = false\n    setLoading(true)\n    setError(null)\n    \n    fetch(url)\n      .then(res => {\n        if (!res.ok) throw new Error(res.statusText)\n        return res.json()\n      })\n      .then(data => {\n        if (!cancelled) {\n          setData(data)\n          setLoading(false)\n        }\n      })\n      .catch(err => {\n        if (!cancelled) {\n          setError(err.message)\n          setLoading(false)\n        }\n      })\n    \n    return () => { cancelled = true }\n  }, [url])\n  \n  return { data, loading, error }\n}\n\n// Utilisation\nfunction Users() {\n  const { data: users, loading, error } = useFetch("/api/users")\n  \n  if (loading) return <Spinner />\n  if (error) return <Error message={error} />\n  return <UserList users={users} />\n}', desc: 'Hook useFetch' }
                            ],
                            tips: ['Renommez data avec : dans la d√©structuration'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'Utiliser React Query (TanStack)',
                        desc: 'Gestion avanc√©e des donn√©es serveur',
                        details: {
                            explanation: 'React Query g√®re le cache, la revalidation et l\'√©tat serveur automatiquement.',
                            syntax: 'useQuery({ queryKey, queryFn })',
                            options: [
                                { flag: 'queryKey', desc: 'Cl√© unique pour le cache' },
                                { flag: 'queryFn', desc: 'Fonction de fetch' },
                                { flag: 'staleTime', desc: 'Dur√©e avant revalidation' }
                            ],
                            examples: [
                                { code: '// Setup dans App.jsx\nimport { QueryClient, QueryClientProvider } from "@tanstack/react-query"\n\nconst queryClient = new QueryClient()\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <MyApp />\n    </QueryClientProvider>\n  )\n}', desc: 'Configuration' },
                                { code: '// Lecture de donn√©es\nimport { useQuery } from "@tanstack/react-query"\n\nfunction Users() {\n  const { data, isLoading, error } = useQuery({\n    queryKey: ["users"],\n    queryFn: () => fetch("/api/users").then(r => r.json()),\n    staleTime: 5 * 60 * 1000 // 5 minutes\n  })\n  \n  if (isLoading) return <Spinner />\n  if (error) return <Error message={error.message} />\n  return <UserList users={data} />\n}', desc: 'useQuery' },
                                { code: '// Mutation (POST/PUT/DELETE)\nimport { useMutation, useQueryClient } from "@tanstack/react-query"\n\nfunction CreateUser() {\n  const queryClient = useQueryClient()\n  \n  const mutation = useMutation({\n    mutationFn: (newUser) => \n      fetch("/api/users", {\n        method: "POST",\n        headers: { "Content-Type": "application/json" },\n        body: JSON.stringify(newUser)\n      }).then(r => r.json()),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ["users"] })\n    }\n  })\n  \n  return (\n    <button \n      onClick={() => mutation.mutate({ name: "Alice" })}\n      disabled={mutation.isPending}\n    >\n      {mutation.isPending ? "..." : "Cr√©er"}\n    </button>\n  )\n}', desc: 'useMutation' }
                            ],
                            tips: ['queryKey doit √™tre un tableau pour l\'invalidation partielle'],
                            warnings: ['npm install @tanstack/react-query']
                        }
                    },
                    {
                        cmd: 'Utiliser SWR',
                        desc: 'Alternative l√©g√®re √† React Query',
                        details: {
                            explanation: 'SWR (stale-while-revalidate) de Vercel est plus simple pour les cas basiques.',
                            syntax: 'useSWR(key, fetcher)',
                            options: [
                                { flag: 'key', desc: 'URL ou cl√© unique' },
                                { flag: 'fetcher', desc: 'Fonction de fetch' }
                            ],
                            examples: [
                                { code: '// Configuration globale\nimport useSWR, { SWRConfig } from "swr"\n\nconst fetcher = url => fetch(url).then(r => r.json())\n\nfunction App() {\n  return (\n    <SWRConfig value={{ fetcher }}>\n      <MyApp />\n    </SWRConfig>\n  )\n}', desc: 'Setup SWR' },
                                { code: '// Usage simple\nfunction Profile() {\n  const { data, error, isLoading } = useSWR("/api/user")\n  \n  if (isLoading) return <Spinner />\n  if (error) return <div>Erreur</div>\n  return <div>Bonjour {data.name}</div>\n}', desc: 'useSWR basique' },
                                { code: '// Revalidation manuelle\nimport useSWR, { mutate } from "swr"\n\nasync function handleUpdate() {\n  await fetch("/api/user", { method: "PUT", body: ... })\n  mutate("/api/user") // Revalider le cache\n}', desc: 'Mutation SWR' }
                            ],
                            tips: ['SWR est plus simple que React Query pour les cas basiques'],
                            warnings: ['npm install swr']
                        }
                    }
                ]
            },
            {
                id: 'performance',
                title: 'üéØ Optimiser les Performances',
                icon: 'fa-tachometer-alt',
                color: 'border-l-4 border-red-500',
                commands: [
                    {
                        cmd: 'M√©moriser une valeur calcul√©e',
                        desc: 'useMemo pour les calculs co√ªteux',
                        details: {
                            explanation: 'useMemo m√©morise le r√©sultat d\'un calcul et ne le recalcule que si les d√©pendances changent.',
                            syntax: 'const memoizedValue = useMemo(() => compute(), [deps])',
                            options: [],
                            examples: [
                                { code: '// Tri m√©moris√©\nconst sortedList = useMemo(() => {\n  return items.sort((a, b) => a.name.localeCompare(b.name))\n}, [items])', desc: 'Tri co√ªteux' },
                                { code: '// Filtrage m√©moris√©\nconst filteredUsers = useMemo(() => {\n  return users.filter(u => \n    u.name.toLowerCase().includes(search.toLowerCase())\n  )\n}, [users, search])', desc: 'Filtrage' },
                                { code: '// Calcul complexe\nconst statistics = useMemo(() => {\n  return computeExpensiveStats(data)\n}, [data])', desc: 'Calcul lourd' }
                            ],
                            tips: ['N\'utilisez que pour des calculs vraiment co√ªteux'],
                            warnings: ['L\'optimisation pr√©matur√©e peut √™tre contre-productive']
                        }
                    },
                    {
                        cmd: 'M√©moriser une fonction',
                        desc: 'useCallback pour les callbacks',
                        details: {
                            explanation: 'useCallback m√©morise une fonction pour √©viter de la recr√©er √† chaque rendu.',
                            syntax: 'const memoizedFn = useCallback(fn, [deps])',
                            options: [],
                            examples: [
                                { code: '// Handler m√©moris√©\nconst handleClick = useCallback(() => {\n  setCount(c => c + 1)\n}, [])', desc: 'Handler sans d√©pendance' },
                                { code: '// Avec d√©pendance\nconst handleSubmit = useCallback((data) => {\n  saveUser(userId, data)\n}, [userId])', desc: 'Avec d√©pendance' },
                                { code: '// Utile avec React.memo\nconst ExpensiveList = memo(({ items, onItemClick }) => {\n  return items.map(item => (\n    <Item key={item.id} onClick={() => onItemClick(item)} />\n  ))\n})\n\n// Parent\nconst handleItemClick = useCallback((item) => {\n  selectItem(item)\n}, [])\n\n<ExpensiveList items={items} onItemClick={handleItemClick} />', desc: 'Avec React.memo' }
                            ],
                            tips: ['Utile avec React.memo() pour √©viter les re-renders inutiles'],
                            warnings: ['Inutile si le composant enfant n\'est pas m√©moris√©']
                        }
                    },
                    {
                        cmd: 'M√©moriser un composant',
                        desc: 'React.memo pour √©viter les re-renders',
                        details: {
                            explanation: 'React.memo emp√™che un composant de re-render si ses props n\'ont pas chang√©.',
                            syntax: 'const MemoizedComponent = memo(Component)',
                            options: [
                                { flag: 'memo(Component)', desc: 'Comparaison shallow des props' },
                                { flag: 'memo(Component, areEqual)', desc: 'Comparaison custom' }
                            ],
                            examples: [
                                { code: '// Composant m√©moris√©\nconst UserCard = memo(function UserCard({ user, onSelect }) {\n  console.log("UserCard render", user.id)\n  return (\n    <div onClick={() => onSelect(user)}>\n      {user.name}\n    </div>\n  )\n})\n\n// Ne re-render que si user ou onSelect change', desc: 'memo basique' },
                                { code: '// Avec comparaison personnalis√©e\nconst UserCard = memo(\n  function UserCard({ user }) {\n    return <div>{user.name}</div>\n  },\n  (prevProps, nextProps) => {\n    // Retourne true si les props sont √©gales (pas de re-render)\n    return prevProps.user.id === nextProps.user.id\n  }\n)', desc: 'Comparaison custom' }
                            ],
                            tips: ['Combinez avec useCallback pour les handlers pass√©s en props'],
                            warnings: ['Ne m√©morisez pas tout - mesurez d\'abord les performances']
                        }
                    }
                ]
            },
            {
                id: 'custom-hooks',
                title: 'ü™ù Cr√©er des Hooks Personnalis√©s',
                icon: 'fa-puzzle-piece',
                color: 'border-l-4 border-indigo-500',
                commands: [
                    {
                        cmd: 'Cr√©er un custom hook',
                        desc: 'Extraire la logique r√©utilisable',
                        details: {
                            explanation: 'Les custom hooks permettent d\'extraire et r√©utiliser de la logique d\'√©tat.',
                            syntax: 'function useMyHook(params) { return { ... } }',
                            options: [
                                { flag: 'use*', desc: 'Convention de nommage obligatoire' }
                            ],
                            examples: [
                                { code: '// useToggle.js\nfunction useToggle(initialValue = false) {\n  const [value, setValue] = useState(initialValue)\n  \n  const toggle = useCallback(() => setValue(v => !v), [])\n  const setTrue = useCallback(() => setValue(true), [])\n  const setFalse = useCallback(() => setValue(false), [])\n  \n  return { value, toggle, setTrue, setFalse }\n}\n\n// Utilisation\nfunction Modal() {\n  const { value: isOpen, toggle, setFalse } = useToggle()\n  \n  return (\n    <>\n      <button onClick={toggle}>Ouvrir</button>\n      {isOpen && <Dialog onClose={setFalse} />}\n    </>\n  )\n}', desc: 'useToggle' }
                            ],
                            tips: ['Nommez toujours vos hooks avec le pr√©fixe "use"'],
                            warnings: ['Les custom hooks partagent la logique, pas l\'√©tat']
                        }
                    },
                    {
                        cmd: 'useLocalStorage',
                        desc: 'Persister l\'√©tat dans localStorage',
                        details: {
                            explanation: 'Hook pour synchroniser l\'√©tat avec localStorage.',
                            syntax: 'const [value, setValue] = useLocalStorage(key, initialValue)',
                            options: [],
                            examples: [
                                { code: 'function useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = localStorage.getItem(key)\n      return item ? JSON.parse(item) : initialValue\n    } catch (error) {\n      return initialValue\n    }\n  })\n  \n  const setValue = (value) => {\n    try {\n      const valueToStore = value instanceof Function \n        ? value(storedValue) \n        : value\n      setStoredValue(valueToStore)\n      localStorage.setItem(key, JSON.stringify(valueToStore))\n    } catch (error) {\n      console.error(error)\n    }\n  }\n  \n  return [storedValue, setValue]\n}\n\n// Utilisation\nconst [theme, setTheme] = useLocalStorage("theme", "dark")', desc: 'useLocalStorage complet' }
                            ],
                            tips: ['Utilisez une fonction pour initialValue dans useState'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'useDebounce',
                        desc: 'Retarder une valeur',
                        details: {
                            explanation: 'Retarde la mise √† jour d\'une valeur, utile pour les recherches.',
                            syntax: 'const debouncedValue = useDebounce(value, delay)',
                            options: [],
                            examples: [
                                { code: 'function useDebounce(value, delay = 500) {\n  const [debouncedValue, setDebouncedValue] = useState(value)\n  \n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n    \n    return () => clearTimeout(timer)\n  }, [value, delay])\n  \n  return debouncedValue\n}\n\n// Utilisation pour une recherche\nfunction Search() {\n  const [query, setQuery] = useState("")\n  const debouncedQuery = useDebounce(query, 300)\n  \n  useEffect(() => {\n    if (debouncedQuery) {\n      searchAPI(debouncedQuery).then(setResults)\n    }\n  }, [debouncedQuery])\n  \n  return (\n    <input \n      value={query} \n      onChange={e => setQuery(e.target.value)} \n    />\n  )\n}', desc: 'useDebounce complet' }
                            ],
                            tips: ['300-500ms est un bon d√©lai pour les recherches'],
                            warnings: []
                        }
                    },
                    {
                        cmd: 'useClickOutside',
                        desc: 'D√©tecter les clics ext√©rieurs',
                        details: {
                            explanation: 'D√©tecte les clics en dehors d\'un √©l√©ment (pour fermer modales/dropdowns).',
                            syntax: 'useClickOutside(ref, callback)',
                            options: [],
                            examples: [
                                { code: 'function useClickOutside(ref, handler) {\n  useEffect(() => {\n    const listener = (event) => {\n      if (!ref.current || ref.current.contains(event.target)) {\n        return\n      }\n      handler(event)\n    }\n    \n    document.addEventListener("mousedown", listener)\n    document.addEventListener("touchstart", listener)\n    \n    return () => {\n      document.removeEventListener("mousedown", listener)\n      document.removeEventListener("touchstart", listener)\n    }\n  }, [ref, handler])\n}\n\n// Utilisation\nfunction Dropdown() {\n  const [isOpen, setIsOpen] = useState(false)\n  const ref = useRef(null)\n  \n  useClickOutside(ref, () => setIsOpen(false))\n  \n  return (\n    <div ref={ref}>\n      <button onClick={() => setIsOpen(!isOpen)}>Menu</button>\n      {isOpen && <ul>...</ul>}\n    </div>\n  )\n}', desc: 'useClickOutside complet' }
                            ],
                            tips: ['M√©morisez le handler avec useCallback si d√©fini inline'],
                            warnings: []
                        }
                    }
                ]
            },
            {
                id: 'react19',
                title: '‚ú® Utiliser les Nouveaut√©s React 19',
                icon: 'fa-star',
                color: 'border-l-4 border-rose-500',
                commands: [
                    {
                        cmd: 'Lire des ressources async avec use()',
                        desc: 'Nouveau hook pour Promises/Context',
                        details: {
                            explanation: 'use() permet de lire des Promises ou Context de mani√®re synchrone avec Suspense.',
                            syntax: 'const value = use(resource)',
                            options: [
                                { flag: 'use(Promise)', desc: 'Lit une Promise (avec Suspense)' },
                                { flag: 'use(Context)', desc: 'Lit un Context (peut √™tre conditionnel)' }
                            ],
                            examples: [
                                { code: '// Lire une Promise\nimport { use, Suspense } from "react"\n\nfunction UserProfile({ userPromise }) {\n  const user = use(userPromise) // Suspend jusqu\'√† r√©solution\n  return <div>{user.name}</div>\n}\n\n// Parent avec Suspense\nfunction App() {\n  const userPromise = fetchUser(1)\n  return (\n    <Suspense fallback={<Spinner />}>\n      <UserProfile userPromise={userPromise} />\n    </Suspense>\n  )\n}', desc: 'use() avec Promise' },
                                { code: '// use() peut √™tre conditionnel (contrairement aux autres hooks!)\nfunction Theme({ isDark }) {\n  if (isDark) {\n    const theme = use(DarkThemeContext)\n    return <div style={{ background: theme.bg }}>Dark</div>\n  }\n  return <div>Light</div>\n}', desc: 'use() conditionnel' }
                            ],
                            tips: ['use() permet de lire des Promises sans useEffect'],
                            warnings: ['N√©cessite React 19+ et Suspense pour les Promises']
                        }
                    },
                    {
                        cmd: 'Formulaires avec Server Actions',
                        desc: 'useFormStatus et useFormState',
                        details: {
                            explanation: 'Nouvelles API pour g√©rer les formulaires avec des mutations serveur.',
                            syntax: '<form action={serverAction}>',
                            options: [
                                { flag: 'action', desc: 'Server Action dans form' },
                                { flag: 'useFormStatus', desc: '√âtat pending du formulaire' },
                                { flag: 'useFormState', desc: '√âtat retourn√© par l\'action' }
                            ],
                            examples: [
                                { code: '// useFormStatus pour le bouton submit\nimport { useFormStatus } from "react-dom"\n\nfunction SubmitButton() {\n  const { pending } = useFormStatus()\n  return (\n    <button disabled={pending}>\n      {pending ? "Envoi..." : "Envoyer"}\n    </button>\n  )\n}\n\nfunction ContactForm() {\n  async function handleSubmit(formData) {\n    "use server"\n    const email = formData.get("email")\n    await sendEmail(email)\n  }\n  \n  return (\n    <form action={handleSubmit}>\n      <input name="email" type="email" />\n      <SubmitButton />\n    </form>\n  )\n}', desc: 'useFormStatus' },
                                { code: '// useFormState pour les erreurs/r√©sultats\nimport { useFormState } from "react-dom"\n\nfunction Form() {\n  const [state, formAction] = useFormState(\n    async (prevState, formData) => {\n      const result = await createUser(formData)\n      if (result.error) return { error: result.error }\n      return { success: true }\n    },\n    null\n  )\n  \n  return (\n    <form action={formAction}>\n      <input name="name" />\n      {state?.error && <p className="error">{state.error}</p>}\n      <SubmitButton />\n    </form>\n  )\n}', desc: 'useFormState' }
                            ],
                            tips: ['useFormStatus doit √™tre dans un composant enfant du form'],
                            warnings: ['Server Actions n√©cessitent un framework comme Next.js']
                        }
                    },
                    {
                        cmd: 'Mises √† jour optimistes',
                        desc: 'useOptimistic pour une UX r√©active',
                        details: {
                            explanation: 'Affiche imm√©diatement le r√©sultat attendu pendant qu\'une action async s\'ex√©cute.',
                            syntax: 'const [optimisticState, addOptimistic] = useOptimistic(state, updateFn)',
                            options: [],
                            examples: [
                                { code: 'import { useOptimistic } from "react"\n\nfunction Messages({ messages, sendMessage }) {\n  const [optimisticMessages, addOptimisticMessage] = useOptimistic(\n    messages,\n    (currentMessages, newMessage) => [\n      ...currentMessages,\n      { ...newMessage, sending: true }\n    ]\n  )\n  \n  async function handleSend(formData) {\n    const text = formData.get("text")\n    addOptimisticMessage({ text, id: Date.now() })\n    await sendMessage(text)\n  }\n  \n  return (\n    <>\n      {optimisticMessages.map(msg => (\n        <div key={msg.id} style={{ opacity: msg.sending ? 0.5 : 1 }}>\n          {msg.text}\n        </div>\n      ))}\n      <form action={handleSend}>\n        <input name="text" />\n        <button>Envoyer</button>\n      </form>\n    </>\n  )\n}', desc: 'Messages optimistes' }
                            ],
                            tips: ['L\'√©tat optimiste se r√©initialise quand l\'action se termine'],
                            warnings: ['G√©rez le cas d\'erreur pour revenir √† l\'√©tat pr√©c√©dent']
                        }
                    },
                    {
                        cmd: 'Transitions non-bloquantes',
                        desc: 'useTransition pour une UI r√©active',
                        details: {
                            explanation: 'Marque des mises √† jour comme non-urgentes pour garder l\'UI r√©active.',
                            syntax: 'const [isPending, startTransition] = useTransition()',
                            options: [
                                { flag: 'isPending', desc: 'True pendant la transition' },
                                { flag: 'startTransition', desc: 'Wrappe les updates non-urgentes' }
                            ],
                            examples: [
                                { code: 'function Search() {\n  const [query, setQuery] = useState("")\n  const [results, setResults] = useState([])\n  const [isPending, startTransition] = useTransition()\n  \n  function handleChange(e) {\n    // Update urgent: input reste r√©actif\n    setQuery(e.target.value)\n    \n    // Update non-urgent: peut √™tre interrompue\n    startTransition(() => {\n      setResults(filterHugeList(e.target.value))\n    })\n  }\n  \n  return (\n    <>\n      <input value={query} onChange={handleChange} />\n      {isPending && <Spinner />}\n      <ResultsList results={results} />\n    </>\n  )\n}', desc: 'Recherche non-bloquante' },
                                { code: '// Navigation avec transition\nfunction Tabs() {\n  const [tab, setTab] = useState("home")\n  const [isPending, startTransition] = useTransition()\n  \n  function selectTab(nextTab) {\n    startTransition(() => {\n      setTab(nextTab)\n    })\n  }\n  \n  return (\n    <>\n      <button onClick={() => selectTab("home")}>Home</button>\n      <button onClick={() => selectTab("posts")}>Posts</button>\n      {isPending ? <Spinner /> : <TabContent tab={tab} />}\n    </>\n  )\n}', desc: 'Navigation avec transition' }
                            ],
                            tips: ['startTransition rend les updates interruptibles'],
                            warnings: []
                        }
                    }
                ]
            },
            {
                id: 'project',
                title: 'üéØ Projet: Application Notes',
                icon: 'fa-rocket',
                color: 'border-l-4 border-gradient-to-r from-cyan-500 to-blue-500',
                commands: [
                    {
                        cmd: '√âtape 1: Cr√©er le projet',
                        desc: 'Setup avec Vite',
                        details: {
                            explanation: 'Initialisation du projet avec Vite et structure recommand√©e.',
                            syntax: 'npm create vite + structure',
                            options: [],
                            examples: [
                                { code: '# Cr√©er le projet\nnpm create vite@latest notes-app -- --template react\ncd notes-app\nnpm install\n\n# Structure\nsrc/\n  components/\n    NoteCard.jsx\n    NoteForm.jsx\n    NoteList.jsx\n    SearchBar.jsx\n  hooks/\n    useLocalStorage.js\n    useDebounce.js\n  context/\n    NotesContext.jsx\n  App.jsx\n  main.jsx', desc: 'Setup projet' }
                            ],
                            tips: ['Vite est plus rapide que Create React App'],
                            warnings: []
                        }
                    },
                    {
                        cmd: '√âtape 2: Context avec useReducer',
                        desc: '√âtat global des notes',
                        details: {
                            explanation: 'Cr√©ation du contexte pour g√©rer l\'√©tat global des notes.',
                            syntax: 'createContext + useReducer + Provider',
                            options: [],
                            examples: [
                                { code: '// context/NotesContext.jsx\nimport { createContext, useContext, useReducer, useEffect } from "react"\n\nconst NotesContext = createContext(null)\n\nconst initialState = {\n  notes: JSON.parse(localStorage.getItem("notes")) || [],\n  searchQuery: ""\n}\n\nfunction notesReducer(state, action) {\n  switch (action.type) {\n    case "ADD_NOTE":\n      return { ...state, notes: [...state.notes, action.payload] }\n    case "UPDATE_NOTE":\n      return {\n        ...state,\n        notes: state.notes.map(n => \n          n.id === action.payload.id ? action.payload : n\n        )\n      }\n    case "DELETE_NOTE":\n      return {\n        ...state,\n        notes: state.notes.filter(n => n.id !== action.payload)\n      }\n    case "SET_SEARCH":\n      return { ...state, searchQuery: action.payload }\n    default:\n      return state\n  }\n}\n\nexport function NotesProvider({ children }) {\n  const [state, dispatch] = useReducer(notesReducer, initialState)\n  \n  useEffect(() => {\n    localStorage.setItem("notes", JSON.stringify(state.notes))\n  }, [state.notes])\n  \n  return (\n    <NotesContext.Provider value={{ state, dispatch }}>\n      {children}\n    </NotesContext.Provider>\n  )\n}\n\nexport function useNotes() {\n  const context = useContext(NotesContext)\n  if (!context) throw new Error("useNotes must be within NotesProvider")\n  return context\n}', desc: 'NotesContext complet' }
                            ],
                            tips: ['useReducer est plus adapt√© que useState pour un √©tat complexe'],
                            warnings: []
                        }
                    },
                    {
                        cmd: '√âtape 3: Formulaire de note',
                        desc: 'Composant NoteForm',
                        details: {
                            explanation: 'Formulaire contr√¥l√© pour cr√©er et modifier des notes.',
                            syntax: 'useState pour les champs + dispatch pour sauvegarder',
                            options: [],
                            examples: [
                                { code: '// components/NoteForm.jsx\nimport { useState } from "react"\nimport { useNotes } from "../context/NotesContext"\n\nexport function NoteForm({ editNote, onClose }) {\n  const { dispatch } = useNotes()\n  const [title, setTitle] = useState(editNote?.title || "")\n  const [content, setContent] = useState(editNote?.content || "")\n  const [color, setColor] = useState(editNote?.color || "#fef3c7")\n  \n  const colors = ["#fef3c7", "#dbeafe", "#dcfce7", "#fce7f3", "#f3e8ff"]\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    if (!title.trim()) return\n    \n    const note = {\n      id: editNote?.id || Date.now().toString(),\n      title: title.trim(),\n      content: content.trim(),\n      color,\n      createdAt: editNote?.createdAt || new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    }\n    \n    dispatch({\n      type: editNote ? "UPDATE_NOTE" : "ADD_NOTE",\n      payload: note\n    })\n    \n    setTitle("")\n    setContent("")\n    onClose?.()\n  }\n  \n  return (\n    <form onSubmit={handleSubmit} className="note-form">\n      <input\n        type="text"\n        placeholder="Titre"\n        value={title}\n        onChange={(e) => setTitle(e.target.value)}\n        required\n      />\n      <textarea\n        placeholder="Contenu..."\n        value={content}\n        onChange={(e) => setContent(e.target.value)}\n      />\n      <div className="color-picker">\n        {colors.map(c => (\n          <button\n            key={c}\n            type="button"\n            style={{ background: c }}\n            className={color === c ? "selected" : ""}\n            onClick={() => setColor(c)}\n          />\n        ))}\n      </div>\n      <button type="submit">\n        {editNote ? "Modifier" : "Ajouter"}\n      </button>\n    </form>\n  )\n}', desc: 'NoteForm complet' }
                            ],
                            tips: ['R√©initialisez le formulaire apr√®s soumission'],
                            warnings: []
                        }
                    },
                    {
                        cmd: '√âtape 4: Liste et filtrage',
                        desc: 'NoteList avec useMemo',
                        details: {
                            explanation: 'Composant liste avec filtrage m√©moris√© et recherche.',
                            syntax: 'useMemo pour le filtrage + useDebounce pour la recherche',
                            options: [],
                            examples: [
                                { code: '// components/NoteList.jsx\nimport { useMemo } from "react"\nimport { useNotes } from "../context/NotesContext"\nimport { NoteCard } from "./NoteCard"\n\nexport function NoteList() {\n  const { state } = useNotes()\n  const { notes, searchQuery } = state\n  \n  const filteredNotes = useMemo(() => {\n    return notes\n      .filter(note => {\n        if (searchQuery) {\n          const query = searchQuery.toLowerCase()\n          return note.title.toLowerCase().includes(query) ||\n                 note.content.toLowerCase().includes(query)\n        }\n        return true\n      })\n      .sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt))\n  }, [notes, searchQuery])\n  \n  if (filteredNotes.length === 0) {\n    return <p className="empty">Aucune note trouv√©e</p>\n  }\n  \n  return (\n    <div className="notes-grid">\n      {filteredNotes.map(note => (\n        <NoteCard key={note.id} note={note} />\n      ))}\n    </div>\n  )\n}', desc: 'NoteList avec filtrage' },
                                { code: '// components/SearchBar.jsx\nimport { useState, useEffect } from "react"\nimport { useNotes } from "../context/NotesContext"\nimport { useDebounce } from "../hooks/useDebounce"\n\nexport function SearchBar() {\n  const { dispatch } = useNotes()\n  const [query, setQuery] = useState("")\n  const debouncedQuery = useDebounce(query, 300)\n  \n  useEffect(() => {\n    dispatch({ type: "SET_SEARCH", payload: debouncedQuery })\n  }, [debouncedQuery, dispatch])\n  \n  return (\n    <input\n      type="search"\n      placeholder="Rechercher..."\n      value={query}\n      onChange={(e) => setQuery(e.target.value)}\n    />\n  )\n}', desc: 'SearchBar avec debounce' }
                            ],
                            tips: ['useMemo √©vite de recalculer les filtres √† chaque rendu'],
                            warnings: []
                        }
                    },
                    {
                        cmd: '√âtape 5: Carte de note',
                        desc: 'NoteCard avec √©dition/suppression',
                        details: {
                            explanation: 'Composant carte avec mode √©dition et confirmation de suppression.',
                            syntax: 'useState pour le mode √©dition + dispatch pour les actions',
                            options: [],
                            examples: [
                                { code: '// components/NoteCard.jsx\nimport { useState } from "react"\nimport { useNotes } from "../context/NotesContext"\nimport { NoteForm } from "./NoteForm"\n\nexport function NoteCard({ note }) {\n  const { dispatch } = useNotes()\n  const [isEditing, setIsEditing] = useState(false)\n  const [showConfirm, setShowConfirm] = useState(false)\n  \n  const handleDelete = () => {\n    dispatch({ type: "DELETE_NOTE", payload: note.id })\n  }\n  \n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString("fr-FR", {\n      day: "numeric",\n      month: "short",\n      hour: "2-digit",\n      minute: "2-digit"\n    })\n  }\n  \n  if (isEditing) {\n    return (\n      <div className="note-card" style={{ background: note.color }}>\n        <NoteForm \n          editNote={note} \n          onClose={() => setIsEditing(false)} \n        />\n      </div>\n    )\n  }\n  \n  return (\n    <article className="note-card" style={{ background: note.color }}>\n      <h3>{note.title}</h3>\n      <p>{note.content}</p>\n      <time>{formatDate(note.updatedAt)}</time>\n      \n      <div className="note-actions">\n        <button onClick={() => setIsEditing(true)}>Modifier</button>\n        <button onClick={() => setShowConfirm(true)}>Supprimer</button>\n      </div>\n      \n      {showConfirm && (\n        <div className="confirm-dialog">\n          <p>Supprimer cette note?</p>\n          <button onClick={handleDelete}>Oui</button>\n          <button onClick={() => setShowConfirm(false)}>Non</button>\n        </div>\n      )}\n    </article>\n  )\n}', desc: 'NoteCard complet' }
                            ],
                            tips: ['Utilisez une confirmation avant suppression'],
                            warnings: []
                        }
                    },
                    {
                        cmd: '√âtape 6: App et styles',
                        desc: 'Assembler l\'application',
                        details: {
                            explanation: 'Composant App principal et styles CSS.',
                            syntax: 'NotesProvider + composants + CSS Grid',
                            options: [],
                            examples: [
                                { code: '// App.jsx\nimport { useState } from "react"\nimport { NotesProvider } from "./context/NotesContext"\nimport { NoteForm } from "./components/NoteForm"\nimport { NoteList } from "./components/NoteList"\nimport { SearchBar } from "./components/SearchBar"\nimport "./App.css"\n\nfunction App() {\n  const [showForm, setShowForm] = useState(false)\n  \n  return (\n    <NotesProvider>\n      <div className="app">\n        <header>\n          <h1>Mes Notes</h1>\n          <SearchBar />\n          <button onClick={() => setShowForm(!showForm)}>\n            {showForm ? "Fermer" : "+ Nouvelle note"}\n          </button>\n        </header>\n        \n        {showForm && (\n          <NoteForm onClose={() => setShowForm(false)} />\n        )}\n        \n        <main>\n          <NoteList />\n        </main>\n      </div>\n    </NotesProvider>\n  )\n}', desc: 'App.jsx' },
                                { code: '/* App.css */\n.app {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\nheader {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  margin-bottom: 30px;\n}\n\n.notes-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 20px;\n}\n\n.note-card {\n  padding: 16px;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.note-form {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  padding: 20px;\n  background: white;\n  border-radius: 12px;\n  margin-bottom: 20px;\n}\n\n.color-picker {\n  display: flex;\n  gap: 8px;\n}\n\n.color-picker button {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  border: 2px solid transparent;\n}\n\n.color-picker button.selected {\n  border-color: #333;\n}', desc: 'Styles CSS' }
                            ],
                            tips: ['CSS Grid est parfait pour les layouts de cartes responsives'],
                            warnings: []
                        }
                    }
                ]
            }
        ];
    </script>
    <script src="../js/cheatsheet.js"></script>
</body>
</html>
